/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(n,t){"use strict";function e(){if(!i.READY){i.event.determineEventTypes();for(var n in i.gestures)i.gestures.hasOwnProperty(n)&&i.detection.register(i.gestures[n]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect);i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect);i.READY=!0}}var i=function(n,t){return new i.Instance(n,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in n,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(n,t){var r=this;e(),this.element=n,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);i.event.onTouch(n,i.EVENT_START,function(n){r.enabled&&i.detection.startDetect(r,n)});return this},i.Instance.prototype={on:function(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)this.element.addEventListener(r[i],t,!1);return this},off:function(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)this.element.removeEventListener(r[i],t,!1);return this},trigger:function(n,t){var u=i.DOCUMENT.createEvent("Event"),r;return u.initEvent(n,!0,!0),u.gesture=t,r=this.element,i.utils.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(u),this},enable:function(n){return this.enabled=n,this}};var r=null,f=!1,u=!1;i.event={bindDom:function(n,t,i){for(var u=t.split(" "),r=0;r<u.length;r++)n.addEventListener(u[r],i,!1)},onTouch:function(n,t,e){var o=this;this.bindDom(n,i.EVENT_TYPES[t],function(s){var c=s.type.toLowerCase(),h;c.match(/mouse/)&&u||((c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&s.which===1)&&(f=!0),c.match(/touch|pointer/)&&(u=!0),h=0,f&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?h=i.PointerEvent.updatePointer(t,s):c.match(/touch/)?h=s.touches.length:u||(h=c.match(/up/)?0:1),h>0&&t==i.EVENT_END?t=i.EVENT_MOVE:h||(t=i.EVENT_END),h||r===null?r=s:s=r,e.call(i.detection,o.collectEventData(n,t,s)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(h=i.PointerEvent.updatePointer(t,s))),h||(r=null,f=!1,u=!1,i.PointerEvent.reset()))})},determineEventTypes:function(){var n;n=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=n[0],i.EVENT_TYPES[i.EVENT_MOVE]=n[1],i.EVENT_TYPES[i.EVENT_END]=n[2]},getTouchList:function(n){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():n.touches?n.touches:[{identifier:1,pageX:n.pageX,pageY:n.pageY,target:n.target}]},collectEventData:function(n,t,r){var f=this.getTouchList(r,t),u=i.POINTER_TOUCH;return(r.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,r))&&(u=i.POINTER_MOUSE),{center:i.utils.getCenter(f),timeStamp:+new Date,target:r.target,touches:f,eventType:t,pointerType:u,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var t=this,n=[];return Object.keys(t.pointers).sort().forEach(function(i){n.push(t.pointers[i])}),n},updatePointer:function(n,t){return n==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(n,t){if(!t.pointerType)return!1;var r={};return r[i.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==i.POINTER_MOUSE,r[i.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==i.POINTER_TOUCH,r[i.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==i.POINTER_PEN,r[n]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(n,i,r){for(var u in i)n[u]!==t&&r||(n[u]=i[u]);return n},hasParent:function(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1},getCenter:function(n){for(var r=[],i=[],t=0,u=n.length;t<u;t++)r.push(n[t].pageX),i.push(n[t].pageY);return{pageX:(Math.min.apply(Math,r)+Math.max.apply(Math,r))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(n,t,i){return{x:Math.abs(t/n)||0,y:Math.abs(i/n)||0}},getAngle:function(n,t){var r=t.pageY-n.pageY,i=t.pageX-n.pageX;return Math.atan2(r,i)*180/Math.PI},getDirection:function(n,t){var u=Math.abs(n.pageX-t.pageX),r=Math.abs(n.pageY-t.pageY);return u>=r?n.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:n.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(n,t){var r=t.pageX-n.pageX,i=t.pageY-n.pageY;return Math.sqrt(r*r+i*i)},getScale:function(n,t){return n.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(n[0],n[1]):1},getRotation:function(n,t){return n.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(n[1],n[0]):0},isVertical:function(n){return n==i.DIRECTION_UP||n==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(n,t){var r,f=["webkit","khtml","moz","ms","o",""],i,u;if(t&&n.style){for(i=0;i<f.length;i++)for(u in t)t.hasOwnProperty(u)&&(r=u,f[i]&&(r=f[i]+r.substring(0,1).toUpperCase()+r.substring(1)),n.style[r]=t[u]);t.userSelect=="none"&&(n.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(n,t){this.current||(this.stopped=!1,this.current={inst:n,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(n){var u,r,f,t;if(this.current&&!this.stopped){for(n=this.extendEventData(n),u=this.current.inst.options,r=0,f=this.gestures.length;r<f;r++)if(t=this.gestures[r],!this.stopped&&u[t.name]!==!1&&t.handler.call(t,n,this.current.inst)===!1){this.stopDetect();break}return this.current&&(this.current.lastEvent=n),n.eventType==i.EVENT_END&&!n.touches.length-1&&this.stopDetect(),n}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(n){var t=this.current.startEvent,r,o;if(t&&(n.touches.length!=t.touches.length||n.touches===t.touches))for(t.touches=[],r=0,o=n.touches.length;r<o;r++)t.touches.push(i.utils.extend({},n.touches[r]));var s=n.timeStamp-t.timeStamp,e=n.center.pageX-t.center.pageX,u=n.center.pageY-t.center.pageY,f=i.utils.getVelocity(s,e,u);return i.utils.extend(n,{deltaTime:s,deltaX:e,deltaY:u,velocityX:f.x,velocityY:f.y,distance:i.utils.getDistance(t.center,n.center),angle:i.utils.getAngle(t.center,n.center),direction:i.utils.getDirection(t.center,n.center),scale:i.utils.getScale(t.touches,n.touches),rotation:i.utils.getRotation(t.touches,n.touches),startEvent:t}),n},register:function(n){var r=n.defaults||{};return r[n.name]===t&&(r[n.name]=!0),i.utils.extend(i.defaults,r,!0),n.index=n.index||1e3,this.gestures.push(n),this.gestures.sort(function(n,t){return n.index<t.index?-1:n.index>t.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(n,t){switch(n.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){i.detection.current.name=="hold"&&t.trigger("hold",n)},t.options.hold_timeout);break;case i.EVENT_MOVE:n.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(n,t){if(n.eventType==i.EVENT_END){var r=i.detection.previous,u=!1;if(n.deltaTime>t.options.tap_max_touchtime||n.distance>t.options.tap_max_distance)return;r&&r.name=="tap"&&n.timeStamp-r.lastEvent.timeStamp<t.options.doubletap_interval&&n.distance<t.options.doubletap_distance&&(t.trigger("doubletap",n),u=!0),(!u||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,n))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(n,t){if(n.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&n.touches.length>t.options.swipe_max_touches)return;(n.velocityX>t.options.swipe_velocity||n.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,n),t.trigger(this.name+n.direction,n))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(n,t){if(i.detection.current.name!=this.name&&this.triggered){t.trigger(this.name+"end",n),this.triggered=!1;return}if(!(t.options.drag_max_touches>0)||!(n.touches.length>t.options.drag_max_touches))switch(n.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(n.distance<t.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=n.distance)&&(n.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;n.drag_locked_to_axis&&r!==n.direction&&(n.direction=i.utils.isVertical(r)?n.deltaY<0?i.DIRECTION_UP:i.DIRECTION_DOWN:n.deltaX<0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",n),this.triggered=!0),t.trigger(this.name,n),t.trigger(this.name+n.direction,n),(t.options.drag_block_vertical&&i.utils.isVertical(n.direction)||t.options.drag_block_horizontal&&!i.utils.isVertical(n.direction))&&n.preventDefault();break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",n),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(n,t){if(i.detection.current.name!=this.name&&this.triggered){t.trigger(this.name+"end",n),this.triggered=!1;return}if(!(n.touches.length<2)){t.options.transform_always_block&&n.preventDefault();switch(n.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var u=Math.abs(1-n.scale),r=Math.abs(n.rotation);if(u<t.options.transform_min_scale&&r<t.options.transform_min_rotation)return;i.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",n),this.triggered=!0),t.trigger(this.name,n),r>t.options.transform_min_rotation&&t.trigger("rotate",n),u>t.options.transform_min_scale&&(t.trigger("pinch",n),t.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",n),this.triggered=!1}}}},i.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(n,t){if(t.options.prevent_mouseevents&&n.pointerType==i.POINTER_MOUSE){n.stopDetect();return}t.options.prevent_default&&n.preventDefault(),n.eventType==i.EVENT_START&&t.trigger(this.name,n)}},i.gestures.Release={name:"release",index:Infinity,handler:function(n,t){n.eventType==i.EVENT_END&&t.trigger(this.name,n)}},typeof module=="object"&&typeof module.exports=="object"?module.exports=i:(n.Hammer=i,typeof n.define=="function"&&n.define.amd&&n.define("hammer",[],function(){return i}))})(this);/*! jQuery plugin for Hammer.JS - v1.0.0 - 2013-11-03
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(n,t){"use strict";function i(n,i){n.event.bindDom=function(n,r,u){i(n).on(r,function(n){var i=n.originalEvent||n;i.pageX===t&&(i.pageX=n.pageX,i.pageY=n.pageY),i.target||(i.target=n.target),i.which===t&&(i.which=i.button),i.preventDefault||(i.preventDefault=n.preventDefault),i.stopPropagation||(i.stopPropagation=n.stopPropagation),u.call(this,i)})},n.Instance.prototype.on=function(n,t){return i(this.element).on(n,t)},n.Instance.prototype.off=function(n,t){return i(this.element).off(n,t)},n.Instance.prototype.trigger=function(n,t){var r=i(this.element);return r.has(t.target).length&&(r=i(t.target)),r.trigger({type:n,gesture:t})},i.fn.hammer=function(t){return this.each(function(){var u=i(this),r=u.data("hammer");r?r&&t&&n.utils.extend(r.options,t):u.data("hammer",new n(this,t||{}))})}}typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(["hammer","jquery"],i):i(n.Hammer,n.jQuery||n.Zepto)})(this);/*! jQuery UI - v1.10.3 - 2013-11-06
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(n,t){function i(t,i){var e,o,u,f=t.nodeName.toLowerCase();return"area"===f?(e=t.parentNode,o=e.name,!t.href||!o||e.nodeName.toLowerCase()!=="map")?!1:(u=n("img[usemap=#"+o+"]")[0],!!u&&r(u)):(/input|select|textarea|button|object/.test(f)?!t.disabled:"a"===f?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{},n.extend(n.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus(),r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),f,u;r.length&&r[0]!==document;){if(f=r.css("position"),(f==="absolute"||f==="relative"||f==="fixed")&&(u=parseInt(r.css("zIndex"),10),!isNaN(u)&&u!==0))return u;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var u=n.attr(t,"tabindex"),r=isNaN(u);return(r||u>=0)&&i(t,!r)}}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function e(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0,r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0),u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),u={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?u["inner"+r].call(this):this.each(function(){n(this).css(f,e(this,i)+"px")})},n.fn["outer"+r]=function(t,i){return typeof t!="number"?u["outer"+r].call(this,t):this.each(function(){n(this).css(f,e(this,t,!0,i)+"px")})}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData)),n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),n.support.selectstart="onselectstart"in document.createElement("div"),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}})})(jQuery),function(n,t){var u=0,i=Array.prototype.slice,r=n.cleanData;n.cleanData=function(t){for(var u=0,i;(i=t[u])!=null;u++)try{n(i).triggerHandler("remove")}catch(f){}r(t)},n.widget=function(t,i,r){var s,e,u,o,h={},f=t.split(".")[0];t=t.split(".")[1],s=f+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[f]=n[f]||{},e=n[f][t],u=n[f][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,e,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var u=function(){return i.prototype[t].apply(this,arguments)},n=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=u,this._superApply=n,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:e?o.widgetEventPrefix:t},h,{constructor:u,namespace:f,widgetName:t,widgetFullName:s}),e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete e._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var c=r.match(/^(\w+)\s*(.*)$/),h=c[1]+u.eventNamespace,s=c[2];s?f.delegate(s,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var f,u,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],u=i.originalEvent,u)for(f in u)f in i||(i[f]=u[f]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{},typeof u=="number"&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}})}(jQuery),function(n,t){function s(n,t,i){return[parseFloat(n[0])*(o.test(n[0])?t/100:1),parseFloat(n[1])*(o.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,u=Math.max,i=Math.abs,h=Math.round,c=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,e=/^\w+/,o=/%$/,y=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var r=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),f=r==="scroll"||r==="auto"&&t.width<t.element[0].scrollWidth,u=i==="scroll"||i==="auto"&&t.height<t.element[0].scrollHeight;return{width:u?n.position.scrollbarWidth():0,height:f?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}},n.fn.position=function(t){if(!t||!t.of)return y.apply(this,arguments);t=n.extend({},t);var k,f,o,w,p,d,nt=n(t.of),it=n.position.getWithinInfo(t.within),tt=n.position.getScrollInfo(it),b=(t.collision||"flip").split(" "),g={};return d=v(nt),nt[0].preventDefault&&(t.at="left top"),f=d.width,o=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),r,i;n.length===1&&(n=c.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",r=l.exec(n[0]),i=l.exec(n[1]),g[this]=[r?r[0]:0,i?i[0]:0],t[this]=[e.exec(n[0])[0],e.exec(n[1])[0]]}),b.length===1&&(b[1]=b[0]),t.at[0]==="right"?p.left+=f:t.at[0]==="center"&&(p.left+=f/2),t.at[1]==="bottom"?p.top+=o:t.at[1]==="center"&&(p.top+=o/2),k=s(g.at,f,o),p.left+=k[0],p.top+=k[1],this.each(function(){var y,ut,a=n(this),c=a.outerWidth(),l=a.outerHeight(),rt=r(this,"marginLeft"),d=r(this,"marginTop"),ft=c+rt+r(this,"marginRight")+tt.width,et=l+d+r(this,"marginBottom")+tt.height,e=n.extend({},p),v=s(g.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?e.left-=c:t.my[0]==="center"&&(e.left-=c/2),t.my[1]==="bottom"?e.top-=l:t.my[1]==="center"&&(e.top-=l/2),e.left+=v[0],e.top+=v[1],n.support.offsetFractions||(e.left=h(e.left),e.top=h(e.top)),y={marginLeft:rt,marginTop:d},n.each(["left","top"],function(i,r){n.ui.position[b[i]]&&n.ui.position[b[i]][r](e,{targetWidth:f,targetHeight:o,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[k[0]+v[0],k[1]+v[1]],my:t.my,at:t.at,within:it,elem:a})}),t.using&&(ut=function(n){var h=w.left-e.left,v=h+f-c,s=w.top-e.top,y=s+o-l,r={target:{element:nt,left:w.left,top:w.top,width:f,height:o},element:{element:a,left:e.left,top:e.top,width:c,height:l},horizontal:v<0?"left":h>0?"right":"center",vertical:y<0?"top":s>0?"bottom":"middle"};f<c&&i(h+v)<f&&(r.horizontal="center"),o<l&&i(s+y)<o&&(r.vertical="middle"),r.important=u(i(h),i(v))>u(i(s),i(y))?"horizontal":"vertical",t.using.call(this,n,r)}),a.offset(n.extend(e,{using:ut}))})},n.ui.position={fit:{left:function(n,t){var e=t.within,r=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=r-s,f=s+t.collisionWidth-o-r,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-r,n.left+=i-h):n.left=f>0&&i<=0?r:i>f?r+o-t.collisionWidth:r:i>0?n.left+=i:f>0?n.left-=f:n.left=u(n.left-s,n.left)},top:function(n,t){var o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=r-s,f=s+t.collisionHeight-e-r,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-r,n.top+=i-h):n.top=f>0&&i<=0?r:i>f?r+e-t.collisionHeight:r:i>0?n.top+=i:f>0?n.top-=f:n.top=u(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,v=l-h,a=l+t.collisionWidth-c-h,e=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,u=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,f=-2*t.offset[0],o,s;v<0?(o=n.left+e+u+f+t.collisionWidth-c-y,(o<0||o<i(v))&&(n.left+=e+u+f)):a>0&&(s=n.left-t.collisionPosition.marginLeft+e+u+f-h,(s>0||i(s)<a)&&(n.left+=e+u+f))},top:function(n,t){var f=t.within,y=f.offset.top+f.scrollTop,a=f.height,l=f.isWindow?f.scrollTop:f.offset.top,v=n.top-t.collisionPosition.marginTop,c=v-l,h=v+t.collisionHeight-a-l,p=t.my[1]==="top",e=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,u=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,r=-2*t.offset[1],s,o;c<0?(o=n.top+e+u+r+t.collisionHeight-a-y,n.top+e+u+r>c&&(o<0||o<i(c))&&(n.top+=e+u+r)):h>0&&(s=n.top-t.collisionPosition.marginTop+e+u+r-l,n.top+e+u+r>h&&(s>0||i(s)<h)&&(n.top+=e+u+r))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,r,i,e,o,u=document.getElementsByTagName("body")[0],f=document.createElement("div");t=document.createElement(u?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&n.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(f),r=u||document.documentElement,r.insertBefore(t,r.firstChild),f.style.cssText="position: absolute; left: 10.7432222px;",e=n(f).offset().left,n.support.offsetFractions=e>10&&e<11,t.innerHTML="",r.removeChild(t)}()}(jQuery),function(n){var i=0;n.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,r,i,e=this.element[0].nodeName.toLowerCase(),f=e==="textarea",u=e==="input";this.isMultiLine=f?!0:u?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||u?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0,i=!0,r=!0;return}t=!1,i=!1,r=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0,this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0,this._move("nextPage",u);break;case f.UP:t=!0,this._keyEvent("previous",u);break;case f.DOWN:t=!0,this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:r=!0,this._searchTimeout(u)}},keypress:function(i){if(t){t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault();return}if(!r){var u=n.ui.keyCode;switch(i.keyCode){case u.PAGE_UP:this._move("previousPage",i);break;case u.PAGE_DOWN:this._move("nextPage",i);break;case u.UP:this._keyEvent("previous",i);break;case u.DOWN:this._keyEvent("next",i)}}},input:function(n){if(i){i=!1,n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(n),this._change(n)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",n,{item:i})&&this._value(i.value),this.term=this._value(),this.close(n),this.selectedItem=i}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t),n==="source"&&this._initSource(),n==="appendTo"&&this.menu.element.appendTo(this._appendTo()),n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort(),t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:n},this._response())},_response:function(){var n=this,t=++i;return function(r){t===i&&n.__response(r),n.pending--,n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){n&&(n=this._normalize(n)),this._trigger("response",null,{content:n}),!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0,this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this._value(this.term),this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){n.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,s=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,f=this.previousFilter||"",r=String.fromCharCode(t.keyCode),e=!1,clearTimeout(this.filterTimer),r===f?e=!0:r=f+r,u=new RegExp("^"+o(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}),i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+o(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var i=n(this),t=i.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(u),i.attr("aria-labelledby",t.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(n.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var o,e,i,f,u,r;this._hasScroll()&&(o=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,e=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-o-e,f=this.activeMenu.scrollTop(),u=this.activeMenu.height(),r=t.height(),i<0?this.activeMenu.scrollTop(f+i):i+r>u&&this.activeMenu.scrollTop(f+i-u+r))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close(),this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element),n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,r)},nextPage:function(t){var i,u,r;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(u=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-u-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,u,r;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(u=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-u+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery);/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(n,t,i,r){"use strict";var p=i("html"),e=i(n),o=i(t),u=i.fancybox=function(){u.open.apply(this,arguments)},y=navigator.userAgent.match(/msie/i),v=null,s=t.createTouch!==r,a=function(n){return n&&n.hasOwnProperty&&n instanceof i},c=function(n){return n&&i.type(n)==="string"},l=function(n){return c(n)&&n.indexOf("%")>0},w=function(n){return n&&!(n.style.overflow&&n.style.overflow==="hidden")&&(n.clientWidth&&n.scrollWidth>n.clientWidth||n.clientHeight&&n.scrollHeight>n.clientHeight)},f=function(n,t){var i=parseInt(n,10)||0;return t&&l(n)&&(i=u.getViewport()[t]/100*i),Math.ceil(i)},h=function(n,t){return f(n,t)+"px"};i.extend(u,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(y?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(n,t){if(n)return(i.isPlainObject(t)||(t={}),!1===u.close(!0))?void 0:(i.isArray(n)||(n=a(n)?i(n).get():[n]),i.each(n,function(f,e){var h={},s,w,l,o,v,y,p;i.type(e)==="object"&&(e.nodeType&&(e=i(e)),a(e)?(h={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),isDom:!0,element:e},i.metadata&&i.extend(!0,h,e.metadata())):h=e),s=t.href||h.href||(c(e)?e:null),w=t.title!==r?t.title:h.title||"",l=t.content||h.content,o=l?"html":t.type||h.type,!o&&h.isDom&&(o=e.data("fancybox-type"),o||(v=e.prop("class").match(/fancybox\.(\w+)/),o=v?v[1]:null)),c(s)&&(o||(u.isImage(s)?o="image":u.isSWF(s)?o="swf":s.charAt(0)==="#"?o="inline":c(e)&&(o="html",l=e)),o==="ajax"&&(y=s.split(/\s+/,2),s=y.shift(),p=y.shift())),l||(o==="inline"?s?l=i(c(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):h.isDom&&(l=e):o==="html"?l=s:o||s||!h.isDom||(o="inline",l=e)),i.extend(h,{href:s,type:o,content:l,title:w,selector:p}),n[f]=h}),u.opts=i.extend(!0,{},u.defaults,t),t.keys!==r&&(u.opts.keys=t.keys?i.extend({},u.defaults.keys,t.keys):!1),u.group=n,u._start(u.opts.index))},cancel:function(){var n=u.coming;n&&!1!==u.trigger("onCancel")&&(u.hideLoading(),u.ajaxLoad&&u.ajaxLoad.abort(),u.ajaxLoad=null,u.imgPreload&&(u.imgPreload.onload=u.imgPreload.onerror=null),n.wrap&&n.wrap.stop(!0,!0).trigger("onReset").remove(),u.coming=null,u.current||u._afterZoomOut(n))},close:function(n){(u.cancel(),!1!==u.trigger("beforeClose"))&&(u.unbindEvents(),u.isActive)&&(u.isOpen&&n!==!0?(u.isOpen=u.isOpened=!1,u.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),u.wrap.stop(!0,!0).removeClass("fancybox-opened"),u.transitions[u.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),u._afterZoomOut()))},play:function(n){var t=function(){clearTimeout(u.player.timer)},r=function(){t(),u.current&&u.player.isActive&&(u.player.timer=setTimeout(u.next,u.current.playSpeed))},i=function(){t(),o.unbind(".player"),u.player.isActive=!1,u.trigger("onPlayEnd")},f=function(){u.current&&(u.current.loop||u.current.index<u.group.length-1)&&(u.player.isActive=!0,o.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":r,"beforeLoad.player":t}),r(),u.trigger("onPlayStart"))};n!==!0&&(u.player.isActive||n===!1)?i():f()},next:function(n){var t=u.current;t&&(c(n)||(n=t.direction.next),u.jumpto(t.index+1,n,"next"))},prev:function(n){var t=u.current;t&&(c(n)||(n=t.direction.prev),u.jumpto(t.index-1,n,"prev"))},jumpto:function(n,t,i){var e=u.current;e&&(n=f(n),u.direction=t||e.direction[n>=e.index?"next":"prev"],u.router=i||"jumpto",e.loop&&(n<0&&(n=e.group.length+n%e.group.length),n=n%e.group.length),e.group[n]!==r&&(u.cancel(),u._start(n)))},reposition:function(n,t){var f=u.current,e=f?f.wrap:null,r;e&&(r=u._getPosition(t),n&&n.type==="scroll"?(delete r.position,e.stop(!0,!0).animate(r,200)):(e.css(r),f.pos=i.extend({},f.dim,r)))},update:function(n){var t=n&&n.type,i=!t||t==="orientationchange";(i&&(clearTimeout(v),v=null),u.isOpen&&!v)&&(v=setTimeout(function(){var r=u.current;r&&!u.isClosing&&(u.wrap.removeClass("fancybox-tmp"),(i||t==="load"||t==="resize"&&r.autoResize)&&u._setDimension(),t==="scroll"&&r.canShrink||u.reposition(n),u.trigger("onUpdate"),v=null)},i&&!s?0:300))},toggle:function(n){u.isOpen&&(u.current.fitToView=i.type(n)==="boolean"?n:!u.current.fitToView,s&&(u.wrap.removeAttr("style").addClass("fancybox-tmp"),u.trigger("onUpdate")),u.update())},hideLoading:function(){o.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,n;u.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(u.cancel).appendTo("body"),o.bind("keydown.loading",function(n){(n.which||n.keyCode)===27&&(n.preventDefault(),u.cancel())}),u.defaults.fixed||(n=u.getViewport(),t.css({position:"absolute",top:n.h*.5+n.y,left:n.w*.5+n.x}))},getViewport:function(){var i=u.current&&u.current.locked||!1,t={x:e.scrollLeft(),y:e.scrollTop()};return i?(t.w=i[0].clientWidth,t.h=i[0].clientHeight):(t.w=s&&n.innerWidth?n.innerWidth:e.width(),t.h=s&&n.innerHeight?n.innerHeight:e.height()),t},unbindEvents:function(){u.wrap&&a(u.wrap)&&u.wrap.unbind(".fb"),o.unbind(".fb"),e.unbind(".fb")},bindEvents:function(){var n=u.current,t;n&&(e.bind("orientationchange.fb"+(s?"":" resize.fb")+(n.autoCenter&&!n.locked?" scroll.fb":""),u.update),t=n.keys,t&&o.bind("keydown.fb",function(f){var e=f.which||f.keyCode,o=f.target||f.srcElement;if(e===27&&u.coming)return!1;f.ctrlKey||f.altKey||f.shiftKey||f.metaKey||o&&(o.type||i(o).is("[contenteditable]"))||i.each(t,function(t,o){return n.group.length>1&&o[e]!==r?(u[t](o[e]),f.preventDefault(),!1):i.inArray(e,o)>-1?(u[t](),f.preventDefault(),!1):void 0})}),i.fn.mousewheel&&n.mouseWheel&&u.wrap.bind("mousewheel.fb",function(t,r,f,e){for(var h=t.target||null,o=i(h),s=!1;o.length;){if(s||o.is(".fancybox-skin")||o.is(".fancybox-wrap"))break;s=w(o[0]),o=i(o).parent()}r===0||s||u.group.length>1&&!n.canShrink&&(e>0||f>0?u.prev(e>0?"down":"left"):(e<0||f<0)&&u.next(e<0?"up":"right"),t.preventDefault())}))},trigger:function(n,t){var f,r=t||u.coming||u.current;if(r){if(i.isFunction(r[n])&&(f=r[n].apply(r,Array.prototype.slice.call(arguments,1))),f===!1)return!1;r.helpers&&i.each(r.helpers,function(t,f){f&&u.helpers[t]&&i.isFunction(u.helpers[t][n])&&u.helpers[t][n](i.extend(!0,{},u.helpers[t].defaults,f),r)}),o.trigger(n)}},isImage:function(n){return c(n)&&n.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(n){return c(n)&&n.match(/\.(swf)((\?|#).*)?$/i)},_start:function(n){var t={},c,l,r,e,o;if(n=f(n),c=u.group[n]||null,!c)return!1;if(t=i.extend(!0,{},u.opts,c),e=t.margin,o=t.padding,i.type(e)==="number"&&(t.margin=[e,e,e,e]),i.type(o)==="number"&&(t.padding=[o,o,o,o]),t.modal&&i.extend(!0,t,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),t.autoSize&&(t.autoWidth=t.autoHeight=!0),t.width==="auto"&&(t.autoWidth=!0),t.height==="auto"&&(t.autoHeight=!0),t.group=u.group,t.index=n,u.coming=t,!1===u.trigger("beforeLoad")){u.coming=null;return}if(r=t.type,l=t.href,!r)return(u.coming=null,u.current&&u.router&&u.router!=="jumpto")?(u.current.index=n,u[u.router](u.direction)):!1;if(u.isActive=!0,(r==="image"||r==="swf")&&(t.autoHeight=t.autoWidth=!1,t.scrolling="visible"),r==="image"&&(t.aspectRatio=!0),r==="iframe"&&s&&(t.scrolling="scroll"),t.wrap=i(t.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+r+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent||"body"),i.extend(t,{skin:i(".fancybox-skin",t.wrap),outer:i(".fancybox-outer",t.wrap),inner:i(".fancybox-inner",t.wrap)}),i.each(["Top","Right","Bottom","Left"],function(n,i){t.skin.css("padding"+i,h(t.padding[n]))}),u.trigger("onReady"),r==="inline"||r==="html"){if(!t.content||!t.content.length)return u._error("content")}else if(!l)return u._error("href");r==="image"?u._loadImage():r==="ajax"?u._loadAjax():r==="iframe"?u._loadIframe():u._afterLoad()},_error:function(n){i.extend(u.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:n,content:u.coming.tpl.error}),u._afterLoad()},_loadImage:function(){var n=u.imgPreload=new Image;n.onload=function(){this.onload=this.onerror=null,u.coming.width=this.width/u.opts.pixelRatio,u.coming.height=this.height/u.opts.pixelRatio,u._afterLoad()},n.onerror=function(){this.onload=this.onerror=null,u._error("image")},n.src=u.coming.href,n.complete!==!0&&u.showLoading()},_loadAjax:function(){var n=u.coming;u.showLoading(),u.ajaxLoad=i.ajax(i.extend({},n.ajax,{url:n.href,error:function(n,t){u.coming&&t!=="abort"?u._error("ajax",n):u.hideLoading()},success:function(t,i){i==="success"&&(n.content=t,u._afterLoad())}}))},_loadIframe:function(){var n=u.coming,t=i(n.tpl.iframe.replace(/\{rnd\}/g,+new Date)).attr("scrolling",s?"auto":n.iframe.scrolling).attr("src",n.href);if(i(n.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(n){}}),n.iframe.preload){u.showLoading();t.one("load",function(){i(this).data("ready",1),s||i(this).bind("load.fb",u.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),u._afterLoad()})}n.content=t.appendTo(n.inner),n.iframe.preload||u._afterLoad()},_preloadImages:function(){for(var r=u.group,i=u.current,f=r.length,e=i.preload?Math.min(i.preload,f-1):0,n,t=1;t<=e;t+=1)n=r[(i.index+t)%f],n.type==="image"&&n.href&&((new Image).src=n.href)},_afterLoad:function(){var r=u.coming,f=u.current,e="fancybox-placeholder",t,n,c,o,s,h;if(u.hideLoading(),r&&u.isActive!==!1){if(!1===u.trigger("afterLoad",r,f)){r.wrap.stop(!0).trigger("onReset").remove(),u.coming=null;return}f&&(u.trigger("beforeChange",f),f.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),u.unbindEvents(),t=r,n=r.content,c=r.type,o=r.scrolling,i.extend(u,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:f}),s=t.href;switch(c){case"inline":case"ajax":case"html":t.selector?n=i("<div>").html(n).find(t.selector):a(n)&&(n.data(e)||n.data(e,i('<div class="'+e+'"></div>').insertAfter(n).hide()),n=n.show().detach(),t.wrap.bind("onReset",function(){i(this).find(n).length&&n.hide().replaceAll(n.data(e)).data(e,!1)}));break;case"image":n=t.tpl.image.replace("{href}",s);break;case"swf":n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',h="",i.each(t.swf,function(t,i){n+='<param name="'+t+'" value="'+i+'"></param>',h+=" "+t+'="'+i+'"'}),n+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}a(n)&&n.parent().is(t.inner)||t.inner.append(n),u.trigger("beforeShow"),t.inner.css("overflow",o==="yes"?"scroll":o==="no"?"hidden":o),u._setDimension(),u.reposition(),u.isOpen=!1,u.coming=null,u.bindEvents(),u.isOpened?f.prevMethod&&u.transitions[f.prevMethod]():i(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),u.transitions[u.isOpened?t.nextMethod:t.openMethod](),u._preloadImages()}},_setDimension:function(){var nt=u.getViewport(),wt=0,vt=!1,ht=!1,y=u.wrap,g=u.skin,e=u.inner,r=u.current,n=r.width,t=r.height,o=r.minWidth,s=r.minHeight,a=r.maxWidth,c=r.maxHeight,bt=r.scrolling,ot=r.scrollOutside?r.scrollbarWidth:0,et=r.margin,yt=f(et[1]+et[3]),pt=f(et[0]+et[2]),d,lt,it,rt,p,v,at,ct,w,k,b,ut,ft,tt,st;if(y.add(g).add(e).width("auto").height("auto").removeClass("fancybox-tmp"),d=f(g.outerWidth(!0)-g.width()),lt=f(g.outerHeight(!0)-g.height()),it=yt+d,rt=pt+lt,p=l(n)?(nt.w-it)*f(n)/100:n,v=l(t)?(nt.h-rt)*f(t)/100:t,r.type==="iframe"){if(tt=r.content,r.autoHeight&&tt.data("ready")===1)try{tt[0].contentWindow.document.location&&(e.width(p).height(9999),st=tt.contents().find("body"),ot&&st.css("overflow-x","hidden"),v=st.outerHeight(!0))}catch(kt){}}else(r.autoWidth||r.autoHeight)&&(e.addClass("fancybox-tmp"),r.autoWidth||e.width(p),r.autoHeight||e.height(v),r.autoWidth&&(p=e.width()),r.autoHeight&&(v=e.height()),e.removeClass("fancybox-tmp"));if(n=f(p),t=f(v),w=p/v,o=f(l(o)?f(o,"w")-it:o),a=f(l(a)?f(a,"w")-it:a),s=f(l(s)?f(s,"h")-rt:s),c=f(l(c)?f(c,"h")-rt:c),at=a,ct=c,r.fitToView&&(a=Math.min(nt.w-it,a),c=Math.min(nt.h-rt,c)),ut=nt.w-yt,ft=nt.h-pt,r.aspectRatio?(n>a&&(n=a,t=f(n/w)),t>c&&(t=c,n=f(t*w)),n<o&&(n=o,t=f(n/w)),t<s&&(t=s,n=f(t*w))):(n=Math.max(o,Math.min(n,a)),r.autoHeight&&r.type!=="iframe"&&(e.width(n),t=e.height()),t=Math.max(s,Math.min(t,c))),r.fitToView)if(e.width(n).height(t),y.width(n+d),k=y.width(),b=y.height(),r.aspectRatio)while((k>ut||b>ft)&&n>o&&t>s){if(wt++>19)break;t=Math.max(s,Math.min(c,t-10)),n=f(t*w),n<o&&(n=o,t=f(n/w)),n>a&&(n=a,t=f(n/w)),e.width(n).height(t),y.width(n+d),k=y.width(),b=y.height()}else n=Math.max(o,Math.min(n,n-(k-ut))),t=Math.max(s,Math.min(t,t-(b-ft)));ot&&bt==="auto"&&t<v&&n+d+ot<ut&&(n+=ot),e.width(n).height(t),y.width(n+d),k=y.width(),b=y.height(),vt=(k>ut||b>ft)&&n>o&&t>s,ht=r.aspectRatio?n<at&&t<ct&&n<p&&t<v:(n<at||t<ct)&&(n<p||t<v),i.extend(r,{dim:{width:h(k),height:h(b)},origWidth:p,origHeight:v,canShrink:vt,canExpand:ht,wPadding:d,hPadding:lt,wrapSpace:b-g.outerHeight(!0),skinSpace:g.height()-t}),!tt&&r.autoHeight&&t>s&&t<c&&!ht&&e.height("auto")},_getPosition:function(n){var r=u.current,f=u.getViewport(),i=r.margin,e=u.wrap.width()+i[1]+i[3],o=u.wrap.height()+i[0]+i[2],t={position:"absolute",top:i[0],left:i[3]};return r.autoCenter&&r.fixed&&!n&&o<=f.h&&e<=f.w?t.position="fixed":r.locked||(t.top+=f.y,t.left+=f.x),t.top=h(Math.max(t.top,t.top+(f.h-o)*r.topRatio)),t.left=h(Math.max(t.left,t.left+(f.w-e)*r.leftRatio)),t},_afterZoomIn:function(){var n=u.current;n&&(u.isOpen=u.isOpened=!0,u.wrap.css("overflow","visible").addClass("fancybox-opened"),u.update(),(n.closeClick||n.nextClick&&u.group.length>1)&&u.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||(t.preventDefault(),u[n.closeClick?"close":"next"]())}),n.closeBtn&&i(n.tpl.closeBtn).appendTo(u.skin).bind("click.fb",function(n){n.preventDefault(),u.close()}),n.arrows&&u.group.length>1&&((n.loop||n.index>0)&&i(n.tpl.prev).appendTo(u.outer).bind("click.fb",u.prev),(n.loop||n.index<u.group.length-1)&&i(n.tpl.next).appendTo(u.outer).bind("click.fb",u.next)),u.trigger("afterShow"),n.loop||n.index!==n.group.length-1?u.opts.autoPlay&&!u.player.isActive&&(u.opts.autoPlay=!1,u.play()):u.play(!1))},_afterZoomOut:function(n){n=n||u.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(u,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),u.trigger("afterClose",n)}}),u.transitions={getOrigPosition:function(){var n=u.current,o=n.element,t=n.orig,i={},f=50,e=50,s=n.hPadding,c=n.wPadding,r=u.getViewport();return!t&&n.isDom&&o.is(":visible")&&(t=o.find("img:first"),t.length||(t=o)),a(t)?(i=t.offset(),t.is("img")&&(f=t.outerWidth(),e=t.outerHeight())):(i.top=r.y+(r.h-e)*n.topRatio,i.left=r.x+(r.w-f)*n.leftRatio),(u.wrap.css("position")==="fixed"||n.locked)&&(i.top-=r.y,i.left-=r.x),i={top:h(i.top-s*n.topRatio),left:h(i.left-c*n.leftRatio),width:h(f+c),height:h(e+s)}},step:function(n,t){var r,h,e,i=t.prop,o=u.current,s=o.wrapSpace,c=o.skinSpace;(i==="width"||i==="height")&&(r=t.end===t.start?1:(n-t.start)/(t.end-t.start),u.isClosing&&(r=1-r),h=i==="width"?o.wPadding:o.hPadding,e=n-h,u.skin[i](f(i==="width"?e:e-s*r)),u.inner[i](f(i==="width"?e:e-s*r-c*r)))},zoomIn:function(){var t=u.current,n=t.pos,r=t.openEffect,e=r==="elastic",f=i.extend({opacity:1},n);delete f.position,e?(n=this.getOrigPosition(),t.openOpacity&&(n.opacity=.1)):r==="fade"&&(n.opacity=.1),u.wrap.css(n).animate(f,{duration:r==="none"?0:t.openSpeed,easing:t.openEasing,step:e?this.step:null,complete:u._afterZoomIn})},zoomOut:function(){var n=u.current,i=n.closeEffect,r=i==="elastic",t={opacity:.1};r&&(t=this.getOrigPosition(),n.closeOpacity&&(t.opacity=.1)),u.wrap.animate(t,{duration:i==="none"?0:n.closeSpeed,easing:n.closeEasing,step:r?this.step:null,complete:u._afterZoomOut})},changeIn:function(){var e=u.current,s=e.nextEffect,t=e.pos,o={opacity:1},i=u.direction,r=200,n;t.opacity=.1,s==="elastic"&&(n=i==="down"||i==="up"?"top":"left",i==="down"||i==="right"?(t[n]=h(f(t[n])-r),o[n]="+="+r+"px"):(t[n]=h(f(t[n])+r),o[n]="-="+r+"px")),s==="none"?u._afterZoomIn():u.wrap.css(t).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:u._afterZoomIn})},changeOut:function(){var t=u.previous,f=t.prevEffect,r={opacity:.1},n=u.direction,e=200;f==="elastic"&&(r[n==="down"||n==="up"?"top":"left"]=(n==="up"||n==="left"?"-":"+")+"="+e+"px"),t.wrap.animate(r,{duration:f==="none"?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},u.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(n){n=i.extend({},this.defaults,n),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(u.coming?u.coming.parent:n.parent),this.fixed=!1,n.fixed&&u.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(n){var t=this;n=i.extend({},this.defaults,n),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(n),this.fixed||(e.bind("resize.overlay",i.proxy(this.update,this)),this.update()),n.closeClick&&this.overlay.bind("click.overlay",function(n){if(i(n.target).hasClass("fancybox-overlay"))return u.isActive?u.close():t.close(),!1}),this.overlay.css(n.css).show()},close:function(){var t,n;e.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),t=e.scrollTop(),n=e.scrollLeft(),this.el.removeClass("fancybox-lock"),e.scrollTop(t).scrollLeft(n)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var n="100%",i;this.overlay.width(n).height("100%"),y?(i=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>i&&(n=o.width())):o.width()>e.width()&&(n=o.width()),this.overlay.width(n).height(o.height())},onReady:function(n,t){var r=this.overlay;i(".fancybox-overlay").stop(!0,!0),r||this.create(n),n.locked&&this.fixed&&t.fixed&&(r||(this.margin=o.height()>e.height()?i("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),n.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(n,t){var u,r;t.locked&&(this.margin!==!1&&(i("*").filter(function(){return i(this).css("position")==="fixed"&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),u=e.scrollTop(),r=e.scrollLeft(),this.el.addClass("fancybox-lock"),e.scrollTop(u).scrollLeft(r)),this.open(n)},onUpdate:function(){this.fixed||this.update()},afterClose:function(n){this.overlay&&!u.coming&&this.overlay.fadeOut(n.speedOut,i.proxy(this.close,this))}},u.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(n){var o=u.current,r=o.title,s=n.type,t,e;if(i.isFunction(r)&&(r=r.call(o.element,o)),c(r)&&i.trim(r)!==""){t=i('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+r+"</div>");switch(s){case"inside":e=u.skin;break;case"outside":e=u.wrap;break;case"over":e=u.inner;break;default:e=u.skin,t.appendTo("body"),y&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),u.current.margin[2]+=Math.abs(f(t.css("margin-bottom")))}t[n.position==="top"?"prependTo":"appendTo"](e)}}},i.fn.fancybox=function(n){var f,e=i(this),t=this.selector||"",r=function(r){var o=i(this).blur(),c=f,h,s;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||o.is(".fancybox-wrap")||(h=n.groupAttr||"data-fancybox-group",s=o.attr(h),s||(h="rel",s=o.get(0)[h]),s&&s!==""&&s!=="nofollow"&&(o=t.length?i(t):e,o=o.filter("["+h+'="'+s+'"]'),c=o.index(this)),n.index=c,u.open(o,n)!==!1&&r.preventDefault())};return n=n||{},f=n.index||0,t&&n.live!==!1?o.undelegate(t,"click.fb-start").delegate(t+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):e.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){var f,t;i.scrollbarWidth===r&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),n=t.children(),r=n.innerWidth()-n.height(99).innerWidth();return t.remove(),r}),i.support.fixedPosition===r&&(i.support.fixedPosition=function(){var n=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=n[0].offsetTop===20||n[0].offsetTop===15;return n.remove(),t}()),i.extend(u.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),f=i(n).width(),p.addClass("fancybox-lock-test"),t=i(n).width(),p.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(t-f)+"px;}</style>").appendTo("head")})})(window,document,jQuery);/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
window.matchMedia=window.matchMedia||function(n){"use strict";var u,r=n.documentElement,f=r.firstElementChild||r.firstChild,i=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(i,f),u=42===t.offsetWidth,r.removeChild(i),{matches:u,media:n}}}(document);
/*! Respond.js v1.3.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */
(function(n){"use strict";function w(){c(!0)}var r={};if(n.respond=r,r.update=function(){},r.mediaQueriesSupported=n.matchMedia&&n.matchMedia("only all").matches,!r.mediaQueriesSupported){var a,d,v,t=n.document,u=t.documentElement,f=[],e=[],i=[],l={},k=30,o=t.getElementsByTagName("head")[0]||u,it=t.getElementsByTagName("base")[0],s=o.getElementsByTagName("link"),h=[],g=function(){for(var r=0;s.length>r;r++){var t=s[r],i=t.href,u=t.media,f=t.rel&&"stylesheet"===t.rel.toLowerCase();i&&f&&!l[i]&&(t.styleSheet&&t.styleSheet.rawCssText?(p(t.styleSheet.rawCssText,i,u),l[i]=!0):(!/^([a-zA-Z:]*\/\/)/.test(i)&&!it||i.replace(RegExp.$1,"").split("/")[0]===n.location.host)&&h.push({href:i,media:u}))}y()},y=function(){if(h.length){var t=h.shift();tt(t.href,function(i){p(i,t.href,t.media),l[t.href]=!0,n.setTimeout(function(){y()},0)})}},p=function(n,t,i){var s=n.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),v=s&&s.length||0,a,l,o,y,r,h,p,u;for(t=t.substring(0,t.lastIndexOf("/")),a=function(n){return n.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},l=!v&&i,t.length&&(t+="/"),l&&(v=1),o=0;v>o;o++)for(l?(y=i,e.push(a(n))):(y=s[o].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,e.push(RegExp.$2&&a(RegExp.$2))),h=y.split(","),p=h.length,u=0;p>u;u++)r=h[u],f.push({media:r.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:e.length-1,hasquery:r.indexOf("(")>-1,minw:r.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:r.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")});c()},b=function(){var r,i=t.createElement("div"),n=t.body,f=!1;return i.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=f=t.createElement("body"),n.style.background="none"),n.appendChild(i),u.insertBefore(n,u.firstChild),r=i.offsetWidth,f?u.removeChild(n):n.removeChild(i),r=v=parseFloat(r)},c=function(r){var ut="clientWidth",st=u[ut],ft="CSS1Compat"===t.compatMode&&st||t.body[ut]||st,p={},ct=s[s.length-1],rt=+new Date,it,g,nt,h,tt;if(r&&a&&k>rt-a)return n.clearTimeout(d),d=n.setTimeout(c,k),void 0;a=rt;for(it in f)if(f.hasOwnProperty(it)){var l=f[it],y=l.minw,w=l.maxw,ot=null===y,ht=null===w,et="em";y&&(y=parseFloat(y)*(y.indexOf(et)>-1?v||b():1)),w&&(w=parseFloat(w)*(w.indexOf(et)>-1?v||b():1)),l.hasquery&&(ot&&ht||!(ot||ft>=y)||!(ht||w>=ft))||(p[l.media]||(p[l.media]=[]),p[l.media].push(e[l.rules]))}for(g in i)i.hasOwnProperty(g)&&i[g]&&i[g].parentNode===o&&o.removeChild(i[g]);for(nt in p)p.hasOwnProperty(nt)&&(h=t.createElement("style"),tt=p[nt].join("\n"),h.type="text/css",h.media=nt,o.insertBefore(h,ct.nextSibling),h.styleSheet?h.styleSheet.cssText=tt:h.appendChild(t.createTextNode(tt)),i.push(h))},tt=function(n,t){var i=nt();i&&(i.open("GET",n,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},nt=function(){var t=!1;try{t=new n.XMLHttpRequest}catch(i){t=new n.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}();g(),r.update=g,n.addEventListener?n.addEventListener("resize",w,!1):n.attachEvent&&n.attachEvent("onresize",w)}})(this);$(document).ready(function(){var n=n||{};n.CommunityActionPlanTools=function(){var t={},i,n;return t.init=function(){n(function(n){var r=n.GetLocationsResult.data,i={cacheLength:20,matchContains:!0,matchSubset:!1,minChars:2,max:30};$("input.location-input").autocomplete(r,i)}),$("input.cap-input").bind("keydown",function(n){n.keyCode=="13"&&(n.preventDefault(),$(".findButton").click())})},i=function(){var t=$("#quickTools #cap"),i,n;t.css("padding",5),t.css("padding-left",10),t.css("background-color","#EAEAEA"),i=$("#quickTools .capClose"),n=$("#quickTools a.capToggle"),n.css("float","right"),n.css("cursor","pointer"),n.live("click",function(){t.toggle();var n=$("input.location-input");n.val("")})},n=function(n){var t=this;$.ajax({async:!0,cache:!0,url:S_BASE_URL+"includes/get-locations.ashx",type:"POST",processData:!1,contentType:"application/json",timeout:1e4,dataType:"json",success:function(i){n(i,t)},error:function(){}})},t}()});$(document).ready(function(){function t(n){var t=n.split("-");t.length>0&&$(".bannar-controls .location-input").val(t[0])}var n=n||{};n.locations=function(){var n={};return n.init=function(){$("input.location-input").autocomplete({source:"/includes/get-locations.ashx",minLength:2,select:function(n,i){try{if(Page_ClientValidate(i),$(this).parents().hasClass("page-hero-banner-zip-finder"))return t(i.item.label),$("#hfSelectBoxValue").val(i.item.label),!1}catch(r){console.log("Error: "+r)}}})},n}(),n.locations.init()});$(document).ready(function(){var n=n||{};n.SecureContent=function(){var n={};return n.init=function(){$(".password").bind("keydown",function(n){n.keyCode=="13"&&(n.preventDefault(),$(".loginButton").click())})},n}(),n.SecureContent.init()});function footer(){if($("body").height()<$(window).height()){var n=$(window).height()-$("#footer").outerHeight();$("#envelope").css({height:n+"px"})}}function elementSupportsAttribute(n,t){var i=document.createElement(n);return t in i?!0:!1}function getQueryStringValue(n){return(n=new RegExp("[?&]"+encodeURIComponent(n)+"=([^&]*)").exec(location.search))?decodeURIComponent(n[1]):""}function getScript(n){$.getScript(n,function(){})}function GetDropDownSelection(n){var t=document.getElementById(n);return undefined!=t&&null!=t?t.options[t.selectedIndex].value:""}function GetSegmentFromSelection(n){var t="";switch(n){case"{F2DEE0EA-04B5-4A29-A313-4C0AC251CC01}":t="residential";break;case"{2530A69C-4D17-410E-A1D5-B4409348464A}":t="business";break;case"{F9EACDF5-7C79-412C-A8D4-E1DDE9061094}":t="professionals"}return t}function setEqualHeightByColumns(n,t){for(var r=0,o=$(n),s=o.length/t,u,f,e,i=0;i<s;i++){for(u=o.slice(i*t,i*t+t),f=0;f<u.length;f++)e=u.eq(f),e.height()>r&&(r=e.height());u.height(r),r=0}}function resizeInput(){$(this).val().length!==0?$(this).css("width",$(this).textWidth()):$(this).css("width",$.fn.textWidth($(this).attr("placeholder")))}jQuery.fn.slideFadeToggle=function(n,t,i){return this.animate({opacity:"toggle",height:"toggle"},n,t,i)};var txtBoxClear=function(){elementSupportsAttribute("input","placeholder")||($("input[placeholder], textarea[placeholder]").focus(function(){var n=$(this);n.val()==n.attr("placeholder")&&(n.val(""),n.removeClass("placeholder"))}).blur(function(){var n=$(this);n.val()==""&&(n.addClass("placeholder"),n.val(n.attr("placeholder")))}).blur(),$("input[placeholder], textarea[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var n=$(this);n.val()==n.attr("placeholder")&&n.val("")})}))},anchors={a:Object,addBehaviors:function(){$("a").each(function(){var n=$(this);(n.attr("rel")=="external"||n.hasClass("external")||n.hasClass("pdf")||n.hasClass("popupFull"))&&n.click(function(n){return n.preventDefault(),anchors.openWin(this,"")}),n.hasClass("popup")&&n.click(function(){return anchors.openWin(this,"height=550,width=600,scrollbars=yes")}),n.attr("href")==location.href&&n.addClass("onstate")})},openWin:function(n,t){return window.open(n.href,"newwin",""+t+""),!1}},responsive={togglePrimaryNav:function(){$("#global-nav-toggle").click(function(){var n=$("#global-nav"),t=$("#header"),i=$("#global-search-container");n.is(":visible")?(n.css("display",""),t.css("height","")):(i.css("display","none"),n.css("display","block"),t.css("height","460px"))})},toggleSearch:function(){$("#global-search-toggle").click(function(){var n=$("#global-search-container"),t=$("#header"),i=$("#global-nav");n.is(":visible")?(n.css("display","none"),n.removeClass("visible"),t.css("height","")):(i.css("display","none"),n.css("display","block"),n.addClass("visible"),t.css("height","220px"))})},toggleL2Selector:function(){$("#l2-responsive").on("change",function(){var n=$("#l2-responsive").find(":selected").attr("data-url");window.location=n})}},slider={init:function(){var i=$("#sublevel-banner-container"),f=$("#sublevel-banner-pager"),n=0,r=$(i).attr("data-slide-interval"),t,u;r==undefined&&(r=5e3),i.children().length&&(this.buildPager(i.children().length),t=i.children(),u=f.find("a"),$(".pager-btn").click(function(i){var u,r;i.preventDefault(),u=$(this),$("#sublevel-banner-pager").find("a").removeClass("selected"),u.addClass("selected"),r=parseInt($(this).attr("data-slideid"),10),n=r,$(".sublevel-banner").css("display","none"),$(t[r]).css("display","block"),$($("#sublevel-banner-pager").find("a")[n]).addClass("selected")}),$(t[0]).css("display","block"),$($("#sublevel-banner-pager").find("a")[0]).addClass("selected"),window.setInterval(function(){$(".sublevel-banner").css("display","none"),$("#sublevel-banner-pager").find("a").removeClass("selected"),n++==t.length-1?(n=0,$($("#sublevel-banner-pager").find("a")[0]).addClass("selected")):(n=n++,$($("#sublevel-banner-pager").find("a")[n]).addClass("selected")),$(t[n]).css("display","block")},r))},buildPager:function(n){var i,t;if(n>1){for(i="<ul id='sublevel-banner-pager'>",t=0;t<n;t++)i+="<li><a class='pager-btn' data-slideid='"+t+"' href='#'>"+(t+1)+"</a></li>";i+="</ul>",$("#sublevel-banner-nav").append(i)}}},rssfeed={init:function(){$("#icnRss").click(function(n){n.preventDefault(),$("#home-badge").hide(),$("#rssFeed").show()}),$("#closeRss").click(function(n){n.preventDefault(),$("#home-badge").show(),$("#rssFeed").hide()}),$(document.documentElement).keyup(function(n){n.keyCode=="27"&&(n.preventDefault(),$("#rssFeed").hide())})},hideFeed:function(){$("#home-badge").show(),$("#rssFeed").hide()}},search={searchFormId:"siteSearch",selectClass:"searchDropdown",selectedOptionId:"selectedOption",optionsListId:"searchOptions",init:function(){$("#siteSearch").find("select").hide(),search.createDropList()},createDropList:function(){var n=$("."+search.selectClass+" option:selected").val();$("."+search.selectClass+" option").each(function(){$(this).is(":first-child")&&($('<a id="'+search.selectedOptionId+'" href="#">'+$(this).text()+'</a><ul id="'+search.optionsListId+'"></ul>').insertBefore("."+search.selectClass),search.updateSelect($(this).text())),$(this).val()==n&&($("a#"+search.selectedOptionId).html($(this).text()),search.updateSelect($(this).text())),$('<li><a href="#">'+$(this).text()+"</a></li>").appendTo("#"+search.optionsListId).click(function(n){n.preventDefault(),search.listItemClick(n,this)})}),search.attachEvents()},attachEvents:function(){$("#"+search.selectedOptionId).click(function(n){n.preventDefault(),n.stopPropagation(),search.selectedOptionClick(n);var t=$(this);t[t.is(".open")?"removeClass":"addClass"]("open")})},selectedOptionClick:function(){var t=$("#"+search.optionsListId);t.is(":visible")?(t.hide(),$("body").unbind("click.searchoption")):t.show(),$("body").bind("click.searchoption",function(){t.hide(),$("body").unbind("click.searchoption"),$("#"+search.selectedOptionId).removeClass("open")})},listItemClick:function(n,t){var i=$(t).text();$("#"+search.selectedOptionId).text(i),$("#"+search.optionsListId).hide(),search.updateSelect(i)},updateSelect:function(n){$("."+search.selectClass+" option").each(function(){$(this).text()==n&&$(this).attr("selected","selected")})}},toggler={init:function(){$("a.toggler").on("click",function(n){var i=$(n.target),t=$("#"+i.attr("data-toggle-for"));t.hasClass("opened")?t.removeClass("opened"):t.addClass("opened")})}},zipOverlay={init:function(){$("a.zipOverlay").fancybox({type:"inline",href:$(this).attr("href"),showCloseButton:!1,showNavArrows:!1,padding:0,overlayOpacity:.4,autoScale:!1,enableEscapeButton:!1,hideOnOverlayClick:!1,onStart:function(){zipOverlay.updateZipOverlayButton("update")}}),$(".zipsGoButton").fancybox({type:"inline",href:"#zipOverlay",showCloseButton:!1,showNavArrows:!1,padding:0,overlayOpacity:.4,autoScale:!1,enableEscapeButton:!1,hideOnOverlayClick:!1,onStart:function(){zipOverlay.updateZipOverlayButton("continue")}}),$("a.closeZip").click(function(n){n.preventDefault(),$.fancybox.close()})},updateZipOverlayButton:function(n){$(".zipContinueUpdate").attr("src","/img/interface/btn-"+n+".gif")}},EeAi={init:function(){$("#copy ul.ee-ai-photos li a").fancybox({type:"image",centerOnScroll:"true",overlayOpacity:.4})}},search={validator:function(){var t=$(".btn-site-search"),n=$(".search-text");t.on("click",function(t){n.val()==""&&(t.preventDefault(),n.addClass("invalid"))})}};sfHover=function(){$("#global-nav > li > a").hammer().on("touch hold",function(){$(this).addClass("sfhover")});$("#global-nav > li > a").css("touch-action",""),$("#global-nav > li").each(function(){var n=$(this),t=n.children("a")[0];n.hover(function(){n.addClass("sfhover")},function(){n.removeClass("sfhover")})})},$(document).ready(function(){if(txtBoxClear(),anchors.addBehaviors(),rssfeed.init(),zipOverlay.init(),sfHover(),EeAi.init(),responsive.togglePrimaryNav(),responsive.toggleSearch(),responsive.toggleL2Selector(),slider.init(),toggler.init(),search.validator(),$("div.home-zip-finder").keypress(function(n){n.keyCode=="13"&&$(this).find(".zip-finder-button").click()}),$(".top-drawer-container .top-drawer-inner-container .contributing-sponsers").click(function(){$this=$(this),$topDrawer=$this.parent().find(".top-drawer"),$this.hasClass("active")?($this.removeClass("active"),$topDrawer.stop().slideUp(750)):($this.addClass("active"),$topDrawer.slideDown(750))}),$(".tbLocation").keypress(function(n){var t=n.which;if(t==13)return $(this).parent().find(".find-button").click(),!1}),$(".dbRadius").keypress(function(n){var t=n.which;if(t==13)return $(this).parent().find(".find-button").click(),!1}),$(".dbProducts").keypress(function(n){var t=n.which;if(t==13)return $(this).parent().find(".find-button").click(),!1}),$(window).resize(function(){$("#focus-areas > .promotion").css("height","auto"),setEqualHeightByColumns("#focus-areas > .promotion",3),$catList=$(".product-category-listing >ul >li"),$catList.find(".find-product").css("height","auto"),setEqualHeightByColumns($catList.find(".find-product"),2),$(document).find(".product-listing").each(function(){$productInnerItem=$(this).find(">ul >li>"),$productInnerItem.css("height","auto"),$productListingWidth=$(this).width(),$numberOfColumn=parseInt($productListingWidth)/parseInt(240),setEqualHeightByColumns($productInnerItem,parseInt($numberOfColumn))})}),$(".resorce-items").change(function(){$("#width_tmp_option").html($(".resorce-items option:selected").text()),$(this).width($("#width_tmp_select").width())}),$(".page-hero-banner-zip-finder").length>0&&$(".ui-autocomplete").length>0&&$(".ui-autocomplete").addClass("hero-banner-autocomplete mCustomScrollbar"),$(".page-hero-banner-zip-finder .find-button-container input").click(function(){var n=$(this).parents(".bannar-controls"),i=n.find(".zip-finder-col >span"),t=n.find(".zip-finder-col >select"),u=n.find(".zip-finder-col >input"),r=n.find(".find-button-container");$.trim(n.find(".location-input").val())==""?(i.addClass("opacity-60"),t.addClass("opacity-60"),u.addClass("validation"),r.addClass("opacity-60")):(i.removeClass("opacity-60"),t.removeClass("opacity-60"),t.removeClass("validation"),t.removeClass("opacity-60"))}),$(".page-hero-banner-zip-finder .location-input").click(function(){$(this).val(""),$(".page-hero-banner-zip-finder .zip-finder-col >span").removeClass("opacity-60"),$(".page-hero-banner-zip-finder .zip-finder-col >select").removeClass("opacity-60"),$(".page-hero-banner-zip-finder .zip-finder-col >input").removeClass("validation"),$(".page-hero-banner-zip-finder .find-button-container").removeClass("opacity-60"),$(".page-hero-banner-zip-finder .rfv-container").hide()}),$(".contact-form").children("fieldset").length<=0){var n=$("#form_27B1FED9715146F5B37EA6FB4EB05489");n.show(),$(".contact-form").hide()}$(".btn-contact-us-email").click(function(){var n=$("#form_27B1FED9715146F5B37EA6FB4EB05489");n.show()})}),typeof console=="undefined"&&(window.console={log:function(){}}),$(window).load(function(){$("a.english-site-warning").each(function(){var i=$(".external-english-site-warning").html(),t=$(this).html();$(this).html(t+'<span class="tooltip"><span class="top"></span><span class="middle">'+i+'</span><span class="bottom"></span></span>')}),setEqualHeightByColumns("#focus-areas > .promotion",3),$catList=$(".product-category-listing >ul >li"),setEqualHeightByColumns($catList.find(".find-product"),2),$(document).find(".product-listing").each(function(){$productListingWidth=$(this).width(),$productInnerItem=$(this).find(">ul > li>"),$numberOfColumn=parseInt($productListingWidth)/parseInt(240),setEqualHeightByColumns($productInnerItem,parseInt($numberOfColumn))}),$(".save-upgrade-item").hover(function(){$(this).siblings().css("opacity","0.35")},function(){$(this).siblings().css("opacity","1.0")});var n=$(".callout-bar");n.css("bottom","-"+n.height()+5+"px"),n.delay(2e3).animate({bottom:0},"slow")}),$.fn.textWidth=function(n){var t="bold 38px 'Open Sans', sans-serif";return $.fn.textWidth.fakeEl||($.fn.textWidth.fakeEl=$("<span>").hide().appendTo(document.body)),$.fn.textWidth.fakeEl.text(n||this.val()||this.text()).css("font",t||this.css("font")),$.fn.textWidth.fakeEl.width()};function replaceAll(n,t,i){return i.replace(new RegExp(n,"g"),t)}var key=function(n){return n=replaceAll("https://","",n),n=replaceAll("http://","",n),n=replaceAll("www.","",n),n=replaceAll("/","",n),n=n.trim()},dict={};dict[key("http://www.capelightcompact.org/wp-content/uploads/2014/11/2014-Heating-Hot-Water-and-control-rebate-with-wi-fi-082214.pdf")]="http://www.capelightcompact.org/wp-content/uploads/2014/11/2014-Heating-Hot-Water-and-control-rebate-with-wi-fi-082214.pdf",dict[key("http://www.energyfederation.org/estarlights/default.php")]="http://www.energyfederation.org/estarlights/default.php",dict[key("http://www.energyfederation.org/estarlights/default.php/cPath/5794")]="http://www.energyfederation.org/estarlights/default.php/cPath/5794",dict[key("http://www.gasnetworks.com/efficiency/pdf/GN_Residential_Rebate_2014.pdf")]="http://www.gasnetworks.com/efficiency/pdf/GN_Residential_Rebate_2014.pdf",dict[key("https://efi.secure.force.com/NGRID/LandingNGRID2013")]="https://efi.secure.force.com/NGRID/LandingNGRID2013",dict[key("https://smartenergy-zone.com/masssave")]="https://smartenergy-zone.com/masssave",dict[key("https://smartenergy-zone.com/masssave/RebateSubmission.aspx")]="https://smartenergy-zone.com/masssave/RebateSubmission.aspx",dict[key("https://www.smartenergy-zone.com/coolsmart")]="https://www.smartenergy-zone.com/coolsmart",dict[key("https://www1.nationalgridus.com/CentralAirRI-RI-RES")]="https://www1.nationalgridus.com/CentralAirRI-RI-RES",dict[key("https://www1.nationalgridus.com/DeepEnergyRetrofit-MA-RES")]="https://www1.nationalgridus.com/DeepEnergyRetrofit-MA-RES",dict[key("https://www1.nationalgridus.com/EnergyEfficiencyPrograms")]="https://www1.nationalgridus.com/EnergyEfficiencyPrograms",dict[key("https://www1.nationalgridus.com/EnergyEfficiencyPrograms-MA-BUS")]="https://www1.nationalgridus.com/EnergyEfficiencyPrograms-MA-BUS",dict[key("https://www1.nationalgridus.com/EnergyEfficiencyPrograms-MA-RES")]="https://www1.nationalgridus.com/EnergyEfficiencyPrograms-MA-RES",dict[key("https://smartenergy-zone.com/masssave/")]="https://smartenergy-zone.com/masssave/",$(document).ready(function(){$("a").each(function(){var t=$(this).attr("href");typeof t!=typeof undefined&&t!==!1&&typeof dict[key(t)]!=typeof undefined&&dict[key(t)]!==!1&&($(this).attr("campaign","External"),$(this).bind("click",function(){ga("create","UA-5856712-1","auto","participationTracker"),ga("participationTracker.send","event","Participation Link","click","External")}))})});(function(n){typeof module!="undefined"&&module.exports?module.exports=n:n(jQuery,window,document)})(function(n){(function(t){var u=typeof define=="function"&&define.amd,f=typeof module!="undefined"&&module.exports,i="https:"==document.location.protocol?"https:":"http:",r="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";u||(f?require("jquery-mousewheel")(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+i+"//"+r+"%3E%3C/script%3E"))),t()})(function(){var l="mCustomScrollbar",t="mCS",it=".mCustomScrollbar",lt={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},kt=0,tt={},p=window.attachEvent&&!window.addEventListener?1:0,e=!1,a,i=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],s={init:function(r){var r=n.extend(!0,{},lt,r),e=v.call(this),u,f;if(r.live){if(u=r.liveSelector||this.selector||it,f=n(u),r.live==="off"){nt(u);return}tt[u]=setTimeout(function(){f.mCustomScrollbar(r),r.live==="once"&&f.length&&nt(u)},500)}else nt(u);return r.setWidth=r.set_width?r.set_width:r.setWidth,r.setHeight=r.set_height?r.set_height:r.setHeight,r.axis=r.horizontalScroll?"x":gt(r.axis),r.scrollInertia=r.scrollInertia>0&&r.scrollInertia<17?17:r.scrollInertia,typeof r.mouseWheel!="object"&&r.mouseWheel==!0&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels?r.mouseWheelPixels:r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta?r.advanced.normalizeMouseWheelDelta:r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=ti(r.scrollButtons.scrollType),at(r),n(e).each(function(){var u=n(this);if(!u.data(t)){u.data(t,{idx:++kt,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:u.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=u.data(t),f=e.opt,c=u.data("mcs-axis"),h=u.data("mcs-scrollbar-position"),o=u.data("mcs-theme");c&&(f.axis=c),h&&(f.scrollbarPosition=h),o&&(f.theme=o,at(f)),bt.call(this),e&&f.callbacks.onCreate&&typeof f.callbacks.onCreate=="function"&&f.callbacks.onCreate.call(this),n("#mCSB_"+e.idx+"_container img:not(."+i[2]+")").addClass(i[2]),s.update.call(null,u)}})},update:function(r,f){var e=r||v.call(this);return n(e).each(function(){var s=n(this),h;if(s.data(t)){var e=s.data(t),r=e.opt,c=n("#mCSB_"+e.idx+"_container"),a=n("#mCSB_"+e.idx),l=[n("#mCSB_"+e.idx+"_dragger_vertical"),n("#mCSB_"+e.idx+"_dragger_horizontal")];if(!c.length)return;e.tweenRunning&&o(s),f&&e&&r.callbacks.onBeforeUpdate&&typeof r.callbacks.onBeforeUpdate=="function"&&r.callbacks.onBeforeUpdate.call(this),s.hasClass(i[3])&&s.removeClass(i[3]),s.hasClass(i[4])&&s.removeClass(i[4]),a.css("max-height","none"),a.height()!==s.height()&&a.css("max-height",s.height()),vt.call(this),r.axis==="y"||r.advanced.autoExpandHorizontalScroll||c.css("width",ht(c)),e.overflowed=ci.call(this),ct.call(this),r.autoDraggerLength&&yt.call(this),li.call(this),hi.call(this),h=[Math.abs(c[0].offsetTop),Math.abs(c[0].offsetLeft)],r.axis!=="x"&&(e.overflowed[0]?l[0].height()>l[0].parent().height()?y.call(this):(u(s,h[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(y.call(this),r.axis==="y"?d.call(this):r.axis==="yx"&&e.overflowed[1]&&u(s,h[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),r.axis!=="y"&&(e.overflowed[1]?l[1].width()>l[1].parent().width()?y.call(this):(u(s,h[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(y.call(this),r.axis==="x"?d.call(this):r.axis==="yx"&&e.overflowed[0]&&u(s,h[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),f&&e&&(f===2&&r.callbacks.onImageLoad&&typeof r.callbacks.onImageLoad=="function"?r.callbacks.onImageLoad.call(this):f===3&&r.callbacks.onSelectorChange&&typeof r.callbacks.onSelectorChange=="function"?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&typeof r.callbacks.onUpdate=="function"&&r.callbacks.onUpdate.call(this)),ut.call(this)}})},scrollTo:function(i,r){if(typeof i!="undefined"&&i!=null){var f=v.call(this);return n(f).each(function(){var s=n(this);if(s.data(t)){var o=s.data(t),h=o.opt,l={trigger:"external",scrollInertia:h.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=n.extend(!0,{},l,r),e=ft.call(this,i),c=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia;e[0]=st.call(this,e[0],"y"),e[1]=st.call(this,e[1],"x"),f.moveDragger&&(e[0]*=o.scrollRatio.y,e[1]*=o.scrollRatio.x),f.dur=dt()?0:c,setTimeout(function(){e[0]!==null&&typeof e[0]!="undefined"&&h.axis!=="x"&&o.overflowed[0]&&(f.dir="y",f.overwrite="all",u(s,e[0].toString(),f)),e[1]!==null&&typeof e[1]!="undefined"&&h.axis!=="y"&&o.overflowed[1]&&(f.dir="x",f.overwrite="none",u(s,e[1].toString(),f))},f.timeout)}})}},stop:function(){var i=v.call(this);return n(i).each(function(){var i=n(this);i.data(t)&&o(i)})},disable:function(r){var u=v.call(this);return n(u).each(function(){var u=n(this),f;u.data(t)&&(f=u.data(t),ut.call(this,"remove"),d.call(this),r&&y.call(this),ct.call(this,!0),u.addClass(i[3]))})},destroy:function(){var r=v.call(this);return n(r).each(function(){var f=n(this);if(f.data(t)){var u=f.data(t),o=u.opt,c=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),s=n(".mCSB_"+u.idx+"_scrollbar");o.live&&nt(o.liveSelector||n(r).selector),ut.call(this,"remove"),d.call(this),y.call(this),f.removeData(t),h(this,"mcs"),s.remove(),e.find("img."+i[2]).removeClass(i[2]),c.replaceWith(e.contents()),f.removeClass(l+" _"+t+"_"+u.idx+" "+i[6]+" "+i[7]+" "+i[5]+" "+i[3]).addClass(i[4])}})}},v=function(){return typeof n(this)!="object"||n(this).length<1?it:this},at=function(t){var f=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],e=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],u=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=n.inArray(t.theme,f)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=n.inArray(t.theme,e)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=n.inArray(t.theme,u)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=n.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=n.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},nt=function(n){tt[n]&&(clearTimeout(tt[n]),h(tt,n))},gt=function(n){return n==="yx"||n==="xy"||n==="auto"?"yx":n==="x"||n==="horizontal"?"x":"y"},ti=function(n){return n==="stepped"||n==="pixels"||n==="step"||n==="click"?"stepped":"stepless"},bt=function(){var f=n(this),u=f.data(t),r=u.opt,a=r.autoExpandScrollbar?" "+i[1]+"_expand":"",s=["<div id='mCSB_"+u.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+u.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+u.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+i[12]+"'><div id='mCSB_"+u.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],v=r.axis==="yx"?"mCSB_vertical_horizontal":r.axis==="x"?"mCSB_horizontal":"mCSB_vertical",c=r.axis==="yx"?s[0]+s[1]:r.axis==="x"?s[1]:s[0],w=r.axis==="yx"?"<div id='mCSB_"+u.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",y=r.autoHideScrollbar?" "+i[6]:"",p=r.axis!=="x"&&u.langDir==="rtl"?" "+i[7]:"",h,o,e;r.setWidth&&f.css("width",r.setWidth),r.setHeight&&f.css("height",r.setHeight),r.setLeft=r.axis!=="y"&&u.langDir==="rtl"?"989999px":r.setLeft,f.addClass(l+" _"+t+"_"+u.idx+y+p).wrapInner("<div id='mCSB_"+u.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+v+"'><div id='mCSB_"+u.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir="+u.langDir+" /></div>"),h=n("#mCSB_"+u.idx),o=n("#mCSB_"+u.idx+"_container"),r.axis==="y"||r.advanced.autoExpandHorizontalScroll||o.css("width",ht(o)),r.scrollbarPosition==="outside"?(f.css("position")==="static"&&f.css("position","relative"),f.css("overflow","visible"),h.addClass("mCSB_outside").after(c)):(h.addClass("mCSB_inside").append(c),o.wrap(w)),wt.call(this),e=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],e[0].css("min-height",e[0].height()),e[1].css("min-width",e[1].width())},ht=function(t){var i=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return n(this).outerWidth(!0)}).get())],r=t.parent().width();return i[0]>r?i[0]:i[1]>r?i[1]:"100%"},vt=function(){var e=n(this),f=e.data(t),r=f.opt,i=n("#mCSB_"+f.idx+"_container"),u;r.advanced.autoExpandHorizontalScroll&&r.axis!=="y"&&(i.css({width:"auto","min-width":0,"overflow-x":"scroll"}),u=Math.ceil(i[0].scrollWidth),r.advanced.autoExpandHorizontalScroll===3||r.advanced.autoExpandHorizontalScroll!==2&&u>i.parent().width()?i.css({width:u,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},wt=function(){var s=n(this),o=s.data(t),u=o.opt,h=n(".mCSB_"+o.idx+"_scrollbar:first"),f=b(u.scrollButtons.tabindex)?"tabindex='"+u.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+i[13]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+i[14]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+i[15]+"' oncontextmenu='return false;' "+f+" />","<a href='#' class='"+i[16]+"' oncontextmenu='return false;' "+f+" />"],e=[u.axis==="x"?r[2]:r[0],u.axis==="x"?r[3]:r[1],r[2],r[3]];u.scrollButtons.enable&&h.prepend(e[0]).append(e[1]).next(".mCSB_scrollTools").prepend(e[2]).append(e[3])},yt=function(){var c=n(this),u=c.data(t),o=n("#mCSB_"+u.idx),e=n("#mCSB_"+u.idx+"_container"),r=[n("#mCSB_"+u.idx+"_dragger_vertical"),n("#mCSB_"+u.idx+"_dragger_horizontal")],f=[o.height()/e.outerHeight(!1),o.width()/e.outerWidth(!1)],i=[parseInt(r[0].css("min-height")),Math.round(f[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(f[1]*r[1].parent().width())],h=p&&i[1]<i[0]?i[0]:i[1],s=p&&i[3]<i[2]?i[2]:i[3];r[0].css({height:h,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"}),r[1].css({width:s,"max-width":r[1].parent().width()-10})},li=function(){var s=n(this),i=s.data(t),o=n("#mCSB_"+i.idx),e=n("#mCSB_"+i.idx+"_container"),r=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],u=[e.outerHeight(!1)-o.height(),e.outerWidth(!1)-o.width()],f=[u[0]/(r[0].parent().height()-r[0].height()),u[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:f[0],x:f[1]}},k=function(n,t,r){var f=r?i[0]+"_expanded":"",u=n.closest(".mCSB_scrollTools");t==="active"?(n.toggleClass(i[0]+" "+f),u.toggleClass(i[1]),n[0]._draggable=n[0]._draggable?0:1):n[0]._draggable||(t==="hide"?(n.removeClass(i[0]),u.removeClass(i[1])):(n.addClass(i[0]),u.addClass(i[1])))},ci=function(){var h=n(this),r=h.data(t),o=n("#mCSB_"+r.idx),i=n("#mCSB_"+r.idx+"_container"),f=r.overflowed==null?i.height():i.outerHeight(!1),u=r.overflowed==null?i.width():i.outerWidth(!1),e=i[0].scrollHeight,s=i[0].scrollWidth;return e>f&&(f=e),s>u&&(u=s),[f>o.height(),u>o.width()]},y=function(){var e=n(this),i=e.data(t),f=i.opt,c=n("#mCSB_"+i.idx),s=n("#mCSB_"+i.idx+"_container"),h=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],r;o(e),(f.axis!=="x"&&!i.overflowed[0]||f.axis==="y"&&i.overflowed[0])&&(h[0].add(s).css("top",0),u(e,"_resetY")),(f.axis!=="y"&&!i.overflowed[1]||f.axis==="x"&&i.overflowed[1])&&(r=dx=0,i.langDir==="rtl"&&(r=c.width()-s.outerWidth(!1),dx=Math.abs(r/i.scrollRatio.x)),s.css("left",r),h[1].css("left",dx),u(e,"_resetX"))},hi=function(){var e=n(this),r=e.data(t),i=r.opt,u;if(!r.bindEvents){if(fi.call(this),i.contentTouchScroll&&ei.call(this),oi.call(this),i.mouseWheel.enable){function f(){u=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(u),ii.call(e[0])):f()},100)}f()}ui.call(this),ai.call(this),i.advanced.autoScrollOnFocus&&si.call(this),i.scrollButtons.enable&&vi.call(this),i.keyboard.enable&&yi.call(this),r.bindEvents=!0}},d=function(){var e=n(this),r=e.data(t),u=r.opt,s=t+"_"+r.idx,l=".mCSB_"+r.idx+"_scrollbar",f=n("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+l+" ."+i[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+l+">a"),o=n("#mCSB_"+r.idx+"_container");u.advanced.releaseDraggableSelectors&&f.add(n(u.advanced.releaseDraggableSelectors)),u.advanced.extraDraggableSelectors&&f.add(n(u.advanced.extraDraggableSelectors)),r.bindEvents&&(n(document).add(n(!c()||top.document)).unbind("."+s),f.each(function(){n(this).unbind("."+s)}),clearTimeout(e[0]._focusTimeout),h(e[0],"_focusTimeout"),clearTimeout(r.sequential.step),h(r.sequential,"step"),clearTimeout(o[0].onCompleteTimeout),h(o[0],"onCompleteTimeout"),r.bindEvents=!1)},ct=function(r){var h=n(this),u=h.data(t),o=u.opt,c=n("#mCSB_"+u.idx+"_container_wrapper"),f=c.length?c:n("#mCSB_"+u.idx+"_container"),e=[n("#mCSB_"+u.idx+"_scrollbar_vertical"),n("#mCSB_"+u.idx+"_scrollbar_horizontal")],s=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];o.axis!=="x"&&(u.overflowed[0]&&!r?(e[0].add(s[0]).add(e[0].children("a")).css("display","block"),f.removeClass(i[8]+" "+i[10])):(o.alwaysShowScrollbar?(o.alwaysShowScrollbar!==2&&s[0].css("display","none"),f.removeClass(i[10])):(e[0].css("display","none"),f.addClass(i[10])),f.addClass(i[8]))),o.axis!=="y"&&(u.overflowed[1]&&!r?(e[1].add(s[1]).add(e[1].children("a")).css("display","block"),f.removeClass(i[9]+" "+i[11])):(o.alwaysShowScrollbar?(o.alwaysShowScrollbar!==2&&s[1].css("display","none"),f.removeClass(i[11])):(e[1].css("display","none"),f.addClass(i[11])),f.addClass(i[9]))),u.overflowed[0]||u.overflowed[1]?h.removeClass(i[5]):h.addClass(i[5])},r=function(t){var e=t.type,i=t.target.ownerDocument!==document?[n(frameElement).offset().top,n(frameElement).offset().left]:null,u=c()&&t.target.ownerDocument!==top.document?[n(t.view.frameElement).offset().top,n(t.view.frameElement).offset().left]:[0,0],r,f;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+u[0],t.originalEvent.pageX-i[1]+u[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":return r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],f=t.originalEvent.touches.length||t.originalEvent.changedTouches.length,t.target.ownerDocument!==document?[r.screenY,r.screenX,f>1]:[r.pageY,r.pageX,f>1];default:return i?[t.pageY-i[0]+u[0],t.pageX-i[1]+u[1],!1]:[t.pageY,t.pageX,!1]}},fi=function(){function b(n){var i=g.find("iframe"),t;i.length&&(t=n?"auto":"none",i.css("pointer-events",t))}function d(n,t,r,f){var o,e;g[0].idleTimer=s.scrollInertia<233?250:0,i.attr("id")===w[1]?(o="x",e=(i[0].offsetLeft-t+f)*h.scrollRatio.x):(o="y",e=(i[0].offsetTop-n+r)*h.scrollRatio.y),u(y,e.toString(),{dir:o,drag:!0})}var y=n(this),h=y.data(t),s=h.opt,f=t+"_"+h.idx,w=["mCSB_"+h.idx+"_dragger_vertical","mCSB_"+h.idx+"_dragger_horizontal"],g=n("#mCSB_"+h.idx+"_container"),v=n("#"+w[0]+",#"+w[1]),i,a,l,nt=s.advanced.releaseDraggableSelectors?v.add(n(s.advanced.releaseDraggableSelectors)):v,tt=s.advanced.extraDraggableSelectors?n(!c()||top.document).add(n(s.advanced.extraDraggableSelectors)):n(!c()||top.document);v.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),et(t)){e=!0,p&&(document.onselectstart=function(){return!1}),b(!1),o(y),i=n(this);var u=i.offset(),h=r(t)[0]-u.top,f=r(t)[1]-u.left,v=i.height()+u.top,c=i.width()+u.left;h<v&&h>0&&f<c&&f>0&&(a=h,l=f),k(i,"active",s.autoExpandScrollbar)}}).bind("touchmove."+f,function(n){n.stopImmediatePropagation(),n.preventDefault();var t=i.offset(),f=r(n)[0]-t.top,u=r(n)[1]-t.left;d(a,l,f,u)}),n(document).add(tt).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(n){if(i){var f=i.offset(),u=r(n)[0]-f.top,t=r(n)[1]-f.left;if(a===u&&l===t)return;d(a,l,u,t)}}).add(nt).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){i&&(k(i,"active",s.autoExpandScrollbar),i=null),e=!1,p&&(document.onselectstart=null),b(!0)})},ei=function(){function yt(n){if(!g(n)||e||r(n)[2]){a=0;return}a=1,tt=0,rt=0,ct=1,k.removeClass("mCS_touch_action");var t=b.offset();nt=r(n)[0]-t.top,d=r(n)[1]-t.left,h=[r(n)[0],r(n)[1]]}function vt(n){var y,o,c,l;if(g(n)&&!e&&!r(n)[2]&&(f.documentTouchScroll||n.preventDefault(),n.stopImmediatePropagation(),!rt||tt)&&ct){dt=w();var a=ut.offset(),u=r(n)[0]-a.top,t=r(n)[1]-a.left,v="mcsLinearOut";ot.push(u),et.push(t),h[2]=Math.abs(r(n)[0]-h[0]),h[3]=Math.abs(r(n)[1]-h[1]),i.overflowed[0]&&(y=it[0].parent().height()-it[0].height(),o=nt-u>0&&u-nt>-(y*i.scrollRatio.y)&&(h[3]*2<h[2]||f.axis==="yx")),i.overflowed[1]&&(c=it[1].parent().width()-it[1].width(),l=d-t>0&&t-d>-(c*i.scrollRatio.x)&&(h[2]*2<h[3]||f.axis==="yx")),o||l?(ni||n.preventDefault(),tt=1):(rt=1,k.addClass("mCS_touch_action")),ni&&n.preventDefault(),s=f.axis==="yx"?[nt-u,d-t]:f.axis==="x"?[null,d-t]:[nt-u,null],b[0].idleTimer=250,i.overflowed[0]&&ft(s[0],gt,v,"y","all",!0),i.overflowed[1]&&ft(s[1],gt,v,"x",ht,!0)}}function at(n){if(!g(n)||e||r(n)[2]){a=0;return}a=1,n.stopImmediatePropagation(),o(k),kt=w();var t=ut.offset();pt=r(n)[0]-t.top,ti=r(n)[1]-t.left,ot=[],et=[]}function bt(n){var t,u,h;if(g(n)&&!e&&!r(n)[2]){ct=0,n.stopImmediatePropagation(),tt=0,rt=0,lt=w();var c=ut.offset(),v=r(n)[0]-c.top,p=r(n)[1]-c.left;if(!(lt-dt>30)){l=1e3/(lt-kt);var a="mcsEaseOut",o=l<2.5,k=o?[ot[ot.length-2],et[et.length-2]]:[0,0];y=o?[v-k[0],p-k[1]]:[v-pt,p-ti],t=[Math.abs(y[0]),Math.abs(y[1])],l=o?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[l,l],u=[Math.abs(b[0].offsetTop)-y[0]*wt(t[0]/l[0],l[0]),Math.abs(b[0].offsetLeft)-y[1]*wt(t[1]/l[1],l[1])],s=f.axis==="yx"?[u[0],u[1]]:f.axis==="x"?[null,u[1]]:[u[0],null],st=[t[0]*4+f.scrollInertia,t[1]*4+f.scrollInertia],h=parseInt(f.contentTouchScroll)||0,s[0]=t[0]>h?s[0]:0,s[1]=t[1]>h?s[1]:0,i.overflowed[0]&&ft(s[0],st[0],a,"y",ht,!1),i.overflowed[1]&&ft(s[1],st[1],a,"x",ht,!1)}}}function wt(n,t){var i=[t*1.5,t*2,t/1.5,t/2];return n>90?t>4?i[0]:i[3]:n>60?t>3?i[3]:i[2]:n>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function ft(n,t,i,r,f,e){n&&u(k,n.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:f,drag:e})}var k=n(this),i=k.data(t),f=i.opt,v=t+"_"+i.idx,ut=n("#mCSB_"+i.idx),b=n("#mCSB_"+i.idx+"_container"),it=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],ct,nt,d,pt,ti,ot=[],et=[],kt,dt,lt,y,l,s,gt=0,st,ht=f.axis==="yx"?"none":"all",h=[],tt,rt,ii=b.find("iframe"),p=["touchstart."+v+" pointerdown."+v+" MSPointerDown."+v,"touchmove."+v+" pointermove."+v+" MSPointerMove."+v,"touchend."+v+" pointerup."+v+" MSPointerUp."+v],ni=document.body.style.touchAction!==undefined;b.bind(p[0],function(n){yt(n)}).bind(p[1],function(n){vt(n)}),ut.bind(p[0],function(n){at(n)}).bind(p[2],function(n){bt(n)}),ii.length&&ii.each(function(){n(this).load(function(){c(this)&&n(this.contentDocument||this.contentWindow.document).bind(p[0],function(n){yt(n),at(n)}).bind(p[1],function(n){vt(n)}).bind(p[2],function(n){bt(n)})})})},oi=function(){function y(){return window.getSelection?window.getSelection().toString():document.selection&&document.selection.type!="Control"?document.selection.createRange().text:0}function f(n,t,r){c.type=r&&i?"stepped":"stepless",c.scrollAmount=10,rt(l,n,t,"mcsLinearOut",r?60:null)}var l=n(this),u=l.data(t),v=u.opt,c=u.sequential,h=t+"_"+u.idx,o=n("#mCSB_"+u.idx+"_container"),s=o.parent(),i;o.bind("mousedown."+h,function(){a||i||(i=1,e=!0)}).add(document).bind("mousemove."+h,function(n){if(!a&&i&&y()){var h=o.offset(),t=r(n)[0]-h.top+o[0].offsetTop,e=r(n)[1]-h.left+o[0].offsetLeft;t>0&&t<s.height()&&e>0&&e<s.width()?c.step&&f("off",null,"stepped"):(v.axis!=="x"&&u.overflowed[0]&&(t<0?f("on",38):t>s.height()&&f("on",40)),v.axis!=="y"&&u.overflowed[1]&&(e<0?f("on",37):e>s.width()&&f("on",39)))}}).bind("mouseup."+h+" dragend."+h,function(){a||(i&&(i=0,f("off",null)),e=!1)})},ii=function(){function h(t,h){var v,a;if(o(s),!ri(s,t.target)){if(v=i.mouseWheel.deltaFactor!=="auto"?parseInt(i.mouseWheel.deltaFactor):p&&t.deltaFactor<100?100:t.deltaFactor||100,a=i.scrollInertia,i.axis==="x"||i.mouseWheel.axis==="x")var y="x",l=[Math.round(v*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],w=i.mouseWheel.scrollAmount!=="auto"?l[1]:l[0]>=e.width()?e.width()*.9:l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetLeft),b=f[1][0].offsetLeft,d=f[1].parent().width()-f[1].width(),c=t.deltaX||t.deltaY||h;else var y="y",l=[Math.round(v*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],w=i.mouseWheel.scrollAmount!=="auto"?l[1]:l[0]>=e.height()?e.height()*.9:l[0],k=Math.abs(n("#mCSB_"+r.idx+"_container")[0].offsetTop),b=f[0][0].offsetTop,d=f[0].parent().height()-f[0].height(),c=t.deltaY||h;(y!=="y"||r.overflowed[0])&&(y!=="x"||r.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),i.mouseWheel.normalizeDelta&&(c=c<0?-1:1),(c>0&&b!==0||c<0&&b!==d||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!i.mouseWheel.normalizeDelta&&(w=t.deltaFactor,a=17),u(s,(k-c*w).toString(),{dir:y,dur:a}))}}if(n(this).data(t)){var s=n(this),r=s.data(t),i=r.opt,a=t+"_"+r.idx,e=n("#mCSB_"+r.idx),f=[n("#mCSB_"+r.idx+"_dragger_vertical"),n("#mCSB_"+r.idx+"_dragger_horizontal")],l=n("#mCSB_"+r.idx+"_container").find("iframe");l.length&&l.each(function(){n(this).load(function(){c(this)&&n(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(n,t){h(n,t)})})}),e.bind("mousewheel."+a,function(n,t){h(n,t)})}},c=function(n){var i=null,t;if(n){try{t=n.contentDocument||n.contentWindow.document,i=t.body.innerHTML}catch(r){}return i!==null}try{t=top.document,i=t.body.innerHTML}catch(r){}return i!==null},ri=function(i,r){var u=r.nodeName.toLowerCase(),e=i.data(t).opt.mouseWheel.disableOver,f=["select","textarea"];return n.inArray(u,e)>-1&&!(n.inArray(u,f)>-1&&!n(r).is(":focus"))},ui=function(){var c=n(this),f=c.data(t),r=t+"_"+f.idx,h=n("#mCSB_"+f.idx+"_container"),l=h.parent(),a=n(".mCSB_"+f.idx+"_scrollbar ."+i[12]),s;a.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){e=!0,n(t.target).hasClass("mCSB_dragger")||(s=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){e=!1}).bind("click."+r,function(t){var e,r;if(s&&(s=0,n(t.target).hasClass(i[12])||n(t.target).hasClass("mCSB_draggerRail"))){if(o(c),e=n(this),r=e.find(".mCSB_dragger"),e.parent(".mCSB_scrollTools_horizontal").length>0){if(!f.overflowed[1])return;var y="x",a=t.pageX>r.offset().left?-1:1,v=Math.abs(h[0].offsetLeft)-a*l.width()*.9}else{if(!f.overflowed[0])return;var y="y",a=t.pageY>r.offset().top?-1:1,v=Math.abs(h[0].offsetTop)-a*l.height()*.9}u(c,v.toString(),{dir:y,scrollEasing:"mcsEaseInOut"})}})},si=function(){var i=n(this),s=i.data(t),e=s.opt,c=t+"_"+s.idx,r=n("#mCSB_"+s.idx+"_container"),h=r.parent();r.bind("focusin."+c,function(){var s=n(document.activeElement),l=r.find(".mCustomScrollBox").length,c=0;s.is(e.advanced.autoScrollOnFocus)&&(o(i),clearTimeout(i[0]._focusTimeout),i[0]._focusTimer=l?(c+17)*l:0,i[0]._focusTimeout=setTimeout(function(){var n=[f(s)[0],f(s)[1]],o=[r[0].offsetTop,r[0].offsetLeft],t=[o[0]+n[0]>=0&&o[0]+n[0]<h.height()-s.outerHeight(!1),o[1]+n[1]>=0&&o[0]+n[1]<h.width()-s.outerWidth(!1)],l=e.axis==="yx"&&!t[0]&&!t[1]?"none":"all";e.axis==="x"||t[0]||u(i,n[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:c}),e.axis==="y"||t[1]||u(i,n[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:c})},i[0]._focusTimer))})},ai=function(){var u=n(this),r=u.data(t),f=t+"_"+r.idx,i=n("#mCSB_"+r.idx+"_container").parent();i.bind("scroll."+f,function(){(i.scrollTop()!==0||i.scrollLeft()!==0)&&n(".mCSB_"+r.idx+"_scrollbar").css("visibility","hidden")})},vi=function(){var f=n(this),u=f.data(t),o=u.opt,r=u.sequential,i=t+"_"+u.idx,h=".mCSB_"+u.idx+"_scrollbar",s=n(h+">a");s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i+" mouseup."+i+" touchend."+i+" pointerup."+i+" MSPointerUp."+i+" mouseout."+i+" pointerout."+i+" MSPointerOut."+i+" click."+i,function(t){function i(n,t){r.scrollAmount=o.scrollButtons.scrollAmount,rt(f,n,t)}if(t.preventDefault(),et(t)){var s=n(this).attr("class");r.type=o.scrollButtons.scrollType;switch(t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(r.type==="stepped")return;e=!0,u.tweenRunning=!1,i("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(r.type==="stepped")return;e=!1,r.dir&&i("off",s);break;case"click":if(r.type!=="stepped"||u.tweenRunning)return;i("on",s)}}})},yi=function(){function y(t){function w(n,t){(s.type=r.keyboard.scrollType,s.scrollAmount=r.keyboard.scrollAmount,s.type==="stepped"&&i.tweenRunning)||rt(e,n,t)}var c,v,y,l,a;switch(t.type){case"blur":i.tweenRunning&&s.dir&&w("off",null);break;case"keydown":case"keyup":if(c=t.keyCode?t.keyCode:t.which,v="on",r.axis!=="x"&&(c===38||c===40)||r.axis!=="y"&&(c===37||c===39)){if((c===38||c===40)&&!i.overflowed[0]||(c===37||c===39)&&!i.overflowed[1])return;t.type==="keyup"&&(v="off"),n(document.activeElement).is(p)||(t.preventDefault(),t.stopImmediatePropagation(),w(v,c))}else c===33||c===34?((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),t.type==="keyup"&&(o(e),y=c===34?-1:1,r.axis==="x"||r.axis==="yx"&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=Math.abs(f[0].offsetLeft)-y*h.width()*.9):(l="y",a=Math.abs(f[0].offsetTop)-y*h.height()*.9),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))):(c===35||c===36)&&(n(document.activeElement).is(p)||((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),t.type==="keyup"&&(r.axis==="x"||r.axis==="yx"&&i.overflowed[1]&&!i.overflowed[0]?(l="x",a=c===35?Math.abs(h.width()-f.outerWidth(!1)):0):(l="y",a=c===35?Math.abs(h.height()-f.outerHeight(!1)):0),u(e,a.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))))}}var e=n(this),i=e.data(t),r=i.opt,s=i.sequential,l=t+"_"+i.idx,w=n("#mCSB_"+i.idx),f=n("#mCSB_"+i.idx+"_container"),h=f.parent(),p="input,textarea,select,datalist,keygen,[contenteditable='true']",a=f.find("iframe"),v=["blur."+l+" keydown."+l+" keyup."+l];a.length&&a.each(function(){n(this).load(function(){c(this)&&n(this.contentDocument||this.contentWindow.document).bind(v[0],function(n){y(n)})})}),w.attr("tabindex","0").bind(v[0],function(n){y(n)})},rt=function(r,f,e,s,c){function y(n){a.snapAmount&&(l.scrollAmount=a.snapAmount instanceof Array?l.dir[0]==="x"?a.snapAmount[1]:a.snapAmount[0]:a.snapAmount);var f=l.type!=="stepped",i=c?c:n?f?d/1.5:g:1e3/60,h=n?f?7.5:40:2.5,t=[Math.abs(w[0].offsetTop),Math.abs(w[0].offsetLeft)],o=[v.scrollRatio.y>10?10:v.scrollRatio.y,v.scrollRatio.x>10?10:v.scrollRatio.x],nt=l.dir[0]==="x"?t[1]+l.dir[1]*o[1]*h:t[0]+l.dir[1]*o[0]*h,k=l.dir[0]==="x"?t[1]+l.dir[1]*parseInt(l.scrollAmount):t[0]+l.dir[1]*parseInt(l.scrollAmount),e=l.scrollAmount!=="auto"?k:nt,p=s?s:n?f?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",b=n?!0:!1;if(n&&i<17&&(e=l.dir[0]==="x"?t[1]:t[0]),u(r,e.toString(),{dir:l.dir[0],scrollEasing:p,dur:i,onComplete:b}),n){l.dir=!1;return}clearTimeout(l.step),l.step=setTimeout(function(){y()},i)}function k(){clearTimeout(l.step),h(l,"step"),o(r)}var v=r.data(t),a=v.opt,l=v.sequential,w=n("#mCSB_"+v.idx+"_container"),p=l.type==="stepped"?!0:!1,d=a.scrollInertia<26?26:a.scrollInertia,g=a.scrollInertia<1?17:a.scrollInertia;switch(f){case"on":if(l.dir=[e===i[16]||e===i[15]||e===39||e===37?"x":"y",e===i[13]||e===i[15]||e===38||e===37?-1:1],o(r),b(e)&&l.type==="stepped")return;y(p);break;case"off":k(),(p||v.tweenRunning&&l.dir)&&y(!0)}},ft=function(i){var u=n(this).data(t).opt,r=[];return typeof i=="function"&&(i=i()),i instanceof Array?r=i.length>1?[i[0],i[1]]:u.axis==="x"?[null,i[0]]:[i[0],null]:(r[0]=i.y?i.y:i.x||u.axis==="x"?null:i,r[1]=i.x?i.x:i.y||u.axis==="y"?null:i),typeof r[0]=="function"&&(r[0]=r[0]()),typeof r[1]=="function"&&(r[1]=r[1]()),r},st=function(i,r){var o,e;if(i!=null&&typeof i!="undefined"){var c=n(this),a=c.data(t),v=a.opt,u=n("#mCSB_"+a.idx+"_container"),l=u.parent(),p=typeof i;r||(r=v.axis==="x"?"x":"y");var w=r==="x"?u.outerWidth(!1):u.outerHeight(!1),h=r==="x"?u[0].offsetLeft:u[0].offsetTop,y=r==="x"?"left":"top";switch(p){case"function":return i();case"object":return(e=i.jquery?i:n(i),!e.length)?void 0:r==="x"?f(e)[1]:f(e)[0];case"string":case"number":if(b(i))return Math.abs(i);if(i.indexOf("%")!==-1)return Math.abs(w*parseInt(i)/100);if(i.indexOf("-=")!==-1)return Math.abs(h-parseInt(i.split("-=")[1]));if(i.indexOf("+=")!==-1)return o=h+parseInt(i.split("+=")[1]),o>=0?0:Math.abs(o);if(i.indexOf("px")!==-1&&b(i.split("px")[0]))return Math.abs(i.split("px")[0]);if(i==="top"||i==="left")return 0;if(i==="bottom")return Math.abs(l.height()-u.outerHeight(!1));if(i==="right")return Math.abs(l.width()-u.outerWidth(!1));if(i==="first"||i==="last")return e=u.find(":"+i),r==="x"?f(e)[1]:f(e)[0];if(n(i).length)return r==="x"?f(n(i))[1]:f(n(i))[0];u.css(y,i),s.update.call(null,c[0]);return}}},ut=function(r){function l(){if(clearTimeout(e[0].autoUpdate),o.parents("html").length===0){o=null;return}e[0].autoUpdate=setTimeout(function(){if(f.advanced.updateOnSelectorChange&&(u.poll.change.n=v(),u.poll.change.n!==u.poll.change.o)){u.poll.change.o=u.poll.change.n,c(3);return}if(f.advanced.updateOnContentResize&&(u.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+e[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,u.poll.size.n!==u.poll.size.o)){u.poll.size.o=u.poll.size.n,c(1);return}if(f.advanced.updateOnImageLoad&&!(f.advanced.updateOnImageLoad==="auto"&&f.axis==="y")&&(u.poll.img.n=e.find("img").length,u.poll.img.n!==u.poll.img.o)){u.poll.img.o=u.poll.img.n,e.find("img").each(function(){a(this)});return}(f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&l()},f.advanced.autoUpdateTimeout)}function a(t){function f(n,t){return function(){return t.apply(n,arguments)}}function u(){this.onload=null,n(t).addClass(i[2]),c(2)}if(n(t).hasClass(i[2])){c();return}var r=new Image;r.onload=f(r,u),r.src=t.src}function v(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var t=0,n=e.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function c(n){clearTimeout(e[0].autoUpdate),s.update.call(null,o[0],n)}var o=n(this),u=o.data(t),f=u.opt,e=n("#mCSB_"+u.idx+"_container");if(r){clearTimeout(e[0].autoUpdate),h(e[0],"autoUpdate");return}l()},pt=function(n,t,i){return Math.round(n/t)*t-i},o=function(i){var r=i.data(t),u=n("#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal");u.each(function(){ni.call(this)})},u=function(i,r,u){function h(n){return f&&e.callbacks[n]&&typeof e.callbacks[n]=="function"}function rt(){return[e.callbacks.alwaysTriggerOffsets||w>=l[0]+v,e.callbacks.alwaysTriggerOffsets||w<=-y]}function a(){var n=[o[0].offsetTop,o[0].offsetLeft],f=[c[0].offsetTop,c[0].offsetLeft],r=[o.outerHeight(!1),o.outerWidth(!1)],t=[p.height(),p.width()];i[0].mcs={content:o,top:n[0],left:n[1],draggerTop:f[0],draggerLeft:f[1],topPct:Math.round(100*Math.abs(n[0])/(Math.abs(r[0])-t[0])),leftPct:Math.round(100*Math.abs(n[1])/(Math.abs(r[1])-t[1])),direction:u.dir}}var f=i.data(t),e=f.opt,st={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:e.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=n.extend(st,u),g=[u.dur,u.drag?0:u.dur],p=n("#mCSB_"+f.idx),o=n("#mCSB_"+f.idx+"_container"),b=o.parent(),tt=e.callbacks.onTotalScrollOffset?ft.call(i,e.callbacks.onTotalScrollOffset):[0,0],nt=e.callbacks.onTotalScrollBackOffset?ft.call(i,e.callbacks.onTotalScrollBackOffset):[0,0],d;if(f.trigger=u.trigger,(b.scrollTop()!==0||b.scrollLeft()!==0)&&(n(".mCSB_"+f.idx+"_scrollbar").css("visibility","visible"),b.scrollTop(0).scrollLeft(0)),r!=="_resetY"||f.contentReset.y||(h("onOverflowYNone")&&e.callbacks.onOverflowYNone.call(i[0]),f.contentReset.y=1),r!=="_resetX"||f.contentReset.x||(h("onOverflowXNone")&&e.callbacks.onOverflowXNone.call(i[0]),f.contentReset.x=1),r!=="_resetY"&&r!=="_resetX"){(f.contentReset.y||!i[0].mcs)&&f.overflowed[0]&&(h("onOverflowY")&&e.callbacks.onOverflowY.call(i[0]),f.contentReset.x=null),(f.contentReset.x||!i[0].mcs)&&f.overflowed[1]&&(h("onOverflowX")&&e.callbacks.onOverflowX.call(i[0]),f.contentReset.x=null),e.snapAmount&&(d=e.snapAmount instanceof Array?u.dir==="x"?e.snapAmount[1]:e.snapAmount[0]:e.snapAmount,r=pt(r,d,e.snapOffset));switch(u.dir){case"x":var c=n("#mCSB_"+f.idx+"_dragger_horizontal"),it="left",w=o[0].offsetLeft,l=[p.width()-o.outerWidth(!1),c.parent().width()-c.width()],s=[r,r===0?0:r/f.scrollRatio.x],v=tt[1],y=nt[1],et=v>0?v/f.scrollRatio.x:0,ut=y>0?y/f.scrollRatio.x:0;break;case"y":var c=n("#mCSB_"+f.idx+"_dragger_vertical"),it="top",w=o[0].offsetTop,l=[p.height()-o.outerHeight(!1),c.parent().height()-c.height()],s=[r,r===0?0:r/f.scrollRatio.y],v=tt[0],y=nt[0],et=v>0?v/f.scrollRatio.y:0,ut=y>0?y/f.scrollRatio.y:0}(s[1]<0||s[0]===0&&s[1]===0?s=[0,0]:s[1]>=l[1]?s=[l[0],l[1]]:s[0]=-s[0],i[0].mcs||(a(),h("onInit")&&e.callbacks.onInit.call(i[0])),clearTimeout(o[0].onCompleteTimeout),ot(c[0],it,Math.round(s[1]),g[1],u.scrollEasing),!f.tweenRunning&&(w===0&&s[0]>=0||w===l[0]&&s[0]<=l[0]))||ot(o[0],it,Math.round(s[0]),g[0],u.scrollEasing,u.overwrite,{onStart:function(){u.callbacks&&u.onStart&&!f.tweenRunning&&(h("onScrollStart")&&(a(),e.callbacks.onScrollStart.call(i[0])),f.tweenRunning=!0,k(c),f.cbOffsets=rt())},onUpdate:function(){u.callbacks&&u.onUpdate&&h("whileScrolling")&&(a(),e.callbacks.whileScrolling.call(i[0]))},onComplete:function(){if(u.callbacks&&u.onComplete){e.axis==="yx"&&clearTimeout(o[0].onCompleteTimeout);var n=o[0].idleTimer||0;o[0].onCompleteTimeout=setTimeout(function(){h("onScroll")&&(a(),e.callbacks.onScroll.call(i[0])),h("onTotalScroll")&&s[1]>=l[1]-et&&f.cbOffsets[0]&&(a(),e.callbacks.onTotalScroll.call(i[0])),h("onTotalScrollBack")&&s[1]<=ut&&f.cbOffsets[1]&&(a(),e.callbacks.onTotalScrollBack.call(i[0])),f.tweenRunning=!1,o[0].idleTimer=0,k(c,"hide")},n)}}})}},ot=function(n,t,i,r,u,f,e){function y(){o.stop||(s||tt.call(),s=w()-nt,v(),s>=o.time&&(o.time=s>o.time?s+h-(s-o.time):s+h-1,o.time<s+1&&(o.time=s+1)),o.time<r?o.id=c(y):g.call())}function v(){r>0?(o.currVal=b(o.time,l,a,r,u),p[t]=Math.round(o.currVal)+"px"):p[t]=i+"px",it.call()}function k(){h=1e3/60,o.time=s+h,c=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)},o.id=c(y)}function d(){o.id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(o.id):clearTimeout(o.id),o.id=null)}function b(n,t,i,r,u){switch(u){case"linear":case"mcsLinear":return i*n/r+t;case"mcsLinearOut":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeInOutSmooth":return(n/=r/2,n<1)?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeInOutStrong":return(n/=r/2,n<1)?i/2*Math.pow(2,10*(n-1))+t:(n--,i/2*(-Math.pow(2,-10*n)+2)+t);case"easeInOut":case"mcsEaseInOut":return(n/=r/2,n<1)?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t);case"easeOutSmooth":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*n/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n)}}var a;n._mTween||(n._mTween={top:{},left:{}});var e=e||{},tt=e.onStart||function(){},it=e.onUpdate||function(){},g=e.onComplete||function(){},nt=w(),h,s=0,l=n.offsetTop,p=n.style,c,o=n._mTween[t];t==="left"&&(l=n.offsetLeft),a=i-l,o.stop=0,f!=="none"&&d(),k()},w=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():+new Date},ni=function(){var n=this,r,i,t;for(n._mTween||(n._mTween={top:{},left:{}}),r=["top","left"],i=0;i<r.length;i++)t=r[i],n._mTween[t].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._mTween[t].id):clearTimeout(n._mTween[t].id),n._mTween[t].id=null,n._mTween[t].stop=1)},h=function(n,t){try{delete n[t]}catch(i){n[t]=null}},et=function(n){return!(n.which&&n.which!==1)},g=function(n){var t=n.originalEvent.pointerType;return!(t&&t!=="touch"&&t!==2)},b=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},f=function(n){var t=n.parents(".mCSB_container");return[n.offset().top-t.offset().top,n.offset().left-t.offset().left]},dt=function(){function t(){var t=["webkit","moz","ms","o"],n;if("hidden"in document)return"hidden";for(n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null}var n=t();return n?document[n]:!1};n.fn[l]=function(t){if(s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist");else return s.init.apply(this,arguments)},n[l]=function(t){if(s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist");else return s.init.apply(this,arguments)},n[l].defaults=lt,window[l]=!0,n(window).load(function(){n(it)[l](),n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(t){var i=n(t),u=i.parents(".mCSB_container"),e,r;if(u.length)return e=u.parent(),r=[u[0].offsetTop,u[0].offsetLeft],r[0]+f(i)[0]>=0&&r[0]+f(i)[0]<e.height()-i.outerHeight(!1)&&r[1]+f(i)[1]>=0&&r[1]+f(i)[1]<e.width()-i.outerWidth(!1)},mcsOverflow:n.expr[":"].mcsOverflow||function(i){var r=n(i).data(t);if(r)return r.overflowed[0]||r.overflowed[1]}})})})});